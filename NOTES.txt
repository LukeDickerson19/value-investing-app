

To Do:

	now:

		figure out why the 10K data collection is fucking up


		create a stratagy that ranks the stocks
			and just manually invest in them for now
			using ibkr lite

			to do:
				find a better way to calculate price volitility
					r-squared
					https://www.statology.org/quadratic-regression-python/

					investopedia
					https://www.investopedia.com/terms/v/volatility.asp

				make the dividend and price data line up with one chart above the other and they have the same axis labels

					make the x axis the union of the 2 time spans

					make dividend a bar chart
						still with a linear line of best fit though

				look at the average price where each time step is a sum of all the previous time steps
				look at the average avariace on a trailing window
				as the avg variance  at t / line of best fit at t grows, the trailing window to calculate the line of best fit decreases, and vice versa

		setup td ameritrade api

			https://developer.tdameritrade.com/apis

			if you create functions with logging
				make it have its own separate logfile and add a line to the logfile for the following events:
					bought x shares of y stock at p price per share for a total of z dollars
					sold   x shares of y stock at p price per share for a total of z dollars
					etc.

			make the basic setup check the account's current portfolio state before starting

			https://www.reddit.com/r/tdameritrade/comments/l9278r/how_to_enable_real_time_quotes/

			consumer key: RVMQESPSGLDXNZKFLD2W7LC3ZJZYCY15
			Callback URI: http://localhost

			Alpaca or TD Ameritrade?
			https://www.reddit.com/r/algotrading/comments/ltxuh2/alpaca_or_td_ameritrade/

			Alpaca - stable enough for live trading?
			https://www.reddit.com/r/algotrading/comments/jhdbew/alpaca_stable_enough_for_live_trading/

			Should I use Alpaca or IBKR for API trading?
			https://www.reddit.com/r/algotrading/comments/o9tb21/should_i_use_alpaca_or_ibkr_for_api_trading/

		make the log show
			submission x of y (x/y %)"
			where
				y is the total number of submissions to parse until the end
				x is an index of y

				still show quarter and x2 of y2 for just the quarter
					but in the ...

		create a function that calculates the number of stocks
			in each country and stores it in a csv with columns:
				country, number of stocks

			too see if its all american stocks or other stocks too

		verify ISIGN has data:
			got this error when collecting data:
				|   |   submission 4 of 1674 for 2012q2:
				|   |   |   form type ... 10-Q
				|   |   |   ticker ...... ISIGN
				|   |   |   cik ......... 727634
				|   |   |   parsing yahoo finance data ... - ISIGN: No data found, symbol may be delisted
				- ISIGN: No data found, symbol may be delisted
				- ISIGN: No data found, symbol may be delisted
				done
				|   |   |   parsing SEC Financial Statements Data Sets data ... done
				|   |   |   saving data ... done
				|   |   |   updating data quality report ... done
				|   |   done parsing submission, duration: 0 minutes, 5.87 seconds
				|   |   

		data quality reports
			copy stock pup and simfin code into this repo
				look through it and maybe refactor some stuff
				see if you can use the plotting code from stockpup to view quality reports

		step through the submissions and see what errors occur
			then maybe throw a try/catch in parse_value_with_ddate() and collect the data on your raspi, after updating these notes

			submission 94 of 1909 for 2013q4: at 9:56 am pst feb 21


			ConnectionResetError: [Errno 104] Connection reset by peer

				solution
					1) put a try catch around it
						try:
							...
						except ConnectionResetError:
							...
					source:
						https://stackoverflow.com/questions/20568216/python-handling-socket-error-errno-104-connection-reset-by-peer			
					note:
						i ended up using a "except Exception" for all of exception types
						because listing the ConnectionResetError and the ConnectionError
						in a tuple wasn't working for some unknown reason

							this isn't working, it's still hanging at this point occationally
							i think it's hanging on the line:
								dct = yf_company.info

								i need to find a way to stop running this code if its been over 1 minute or something, and maybe try it 3 times a minute each and if it fails then give up... or terminate the program. maybe use multi threading?

								here's the log where it stopped (i terminated it with Ctrl+C)
									it never printed "parse_yf_info 2"

									|   |   submission 469 of 1320 for 2015q2:
									|   |   |   form type ... 10-Q
									|   |   |   ticker ...... SSP
									|   |   |   cik ......... 832428
									|   |   |   
									|   |   |   parsing yahoo finance data:
									|   |   |   |   parse_yf_info 1
									^CTraceback (most recent call last):
									  File "/home/luke/rooms/money/stocks/value-investing-app/database/sec/financial_statements_data_sets/src/driver.py", line 1950, in <module>
									    sub_parser.parse_submissions(
									  File "/home/luke/rooms/money/stocks/value-investing-app/database/sec/financial_statements_data_sets/src/driver.py", line 450, in parse_submissions
									    data = self.get_data_from_yahoo_finance(
									  File "/home/luke/rooms/money/stocks/value-investing-app/database/sec/financial_statements_data_sets/src/driver.py", line 516, in get_data_from_yahoo_finance
									    yf_info = self.parse_yf_info(yf_company, num_indents=num_indents+1) if yf_company != None else None
									  File "/home/luke/rooms/money/stocks/value-investing-app/database/sec/financial_statements_data_sets/src/driver.py", line 708, in parse_yf_info
									    dct = yf_company.info
									  File "/home/luke/.local/lib/python3.10/site-packages/yfinance/ticker.py", line 147, in info
									    return self.get_info()
									  File "/home/luke/.local/lib/python3.10/site-packages/yfinance/base.py", line 637, in get_info
									    self._get_fundamentals(proxy=proxy)
									  File "/home/luke/.local/lib/python3.10/site-packages/yfinance/base.py", line 352, in _get_fundamentals
									    data = utils.get_json(ticker_url, proxy, self.session)
									  File "/home/luke/.local/lib/python3.10/site-packages/yfinance/utils.py", line 99, in get_json
									    html = session.get(url=url, proxies=proxy, headers=user_agent_headers).text
									  File "/usr/lib/python3.10/site-packages/requests/api.py", line 75, in get
									    return request('get', url, params=params, **kwargs)
									  File "/usr/lib/python3.10/site-packages/requests/api.py", line 61, in request
									    return session.request(method=method, url=url, **kwargs)
									  File "/usr/lib/python3.10/site-packages/requests/sessions.py", line 542, in request
									    resp = self.send(prep, **send_kwargs)
									  File "/usr/lib/python3.10/site-packages/requests/sessions.py", line 697, in send
									    r.content
									  File "/usr/lib/python3.10/site-packages/requests/models.py", line 836, in content
									    self._content = b''.join(self.iter_content(CONTENT_CHUNK_SIZE)) or b''
									  File "/usr/lib/python3.10/site-packages/requests/models.py", line 758, in generate
									    for chunk in self.raw.stream(chunk_size, decode_content=True):
									  File "/usr/lib/python3.10/site-packages/urllib3/response.py", line 575, in stream
									    for line in self.read_chunked(amt, decode_content=decode_content):
									  File "/usr/lib/python3.10/site-packages/urllib3/response.py", line 770, in read_chunked
									    chunk = self._handle_chunk(amt)
									  File "/usr/lib/python3.10/site-packages/urllib3/response.py", line 714, in _handle_chunk
									    value = self._fp._safe_read(amt)
									  File "/usr/lib/python3.10/http/client.py", line 630, in _safe_read
									    data = self.fp.read(amt)
									  File "/usr/lib/python3.10/socket.py", line 705, in readinto
									    return self._sock.recv_into(b)
									  File "/usr/lib/python3.10/ssl.py", line 1273, in recv_into
									    return self.read(nbytes, buffer)
									  File "/usr/lib/python3.10/ssl.py", line 1129, in read
									    return self._sslobj.read(len, buffer)
									KeyboardInterrupt

									[luke@luke src]$ 
									[luke@luke src]$ 
									[luke@luke src]$ 
									[luke@luke src]$ 


					2) grab data in bulk
						self.num_tickers_to_query_yahoo_finance = 100 # or some big number
						self.tickers = []

						for sub in ...
							if len(self.tickers) > self.num_tickers_to_query_yahoo_finance:
								# do your queries in bulk here  
							else:
								self.tickers.append(ticker)

					option 2) only works for price data because of limitation of the yfinance library, this will be useful for daily price data collection though, if i don't use the exchange for price data. For data collected quarterly though I'm going with option 1). I just made it iteratively keep trying every minute forever, so next time this error occurs, see if it resolves the next minute or if it continues forever. See SubmissionParser.parse_yf_info() for example.

		update these notes
			figure out what stuff you have on the actual investing strategy your going to use
			push this code to github
				after updating .gitignore
				maybe make a new repo ...

	    run it on your raspi and save the data on your external hard drive

		trading strategy

			set up IBKR api connection
				API keys
				functions to call, ect ...

			basic strategy:
				see ... tbd ... in NOTES.txt

			strategy add-ons:

				can i leverage up on the stocks this algo suggests then put an options collar on it?    
					maybe, if yes i could get like 7 or 8 % stocks that are safer than 10 %

					"the requirement on individual stocks (initial = maintenance) generally ranges from 15% - 30%, translating to buying power of between 6.67 – 3.33:1. As the margin rate under this methodology can change daily as it considers risk factors such as the observed volatility of each stock and concentration, portfolios comprised of low-volatility stocks and which are diversified in nature tend to receive the most favorable margin treatment (e.g., higher buying power)."
					https://ibkr.info/node/2085/

					https://www.reddit.com/r/options/comments/dqcubk/leveragemargin_on_interactive_brokers/

			    "tax harvesting"
			        "Tax-loss harvesting allows you to sell investments that are down, replace them with reasonably similar investments, and then offset realized investment gains with those losses. The end result is that less of your money goes to taxes and more may stay invested and working for you."
			            - https://www.google.com/search?q=tax+loss+harvesting&sxsrf=AOaemvJ2xNLYQ0BLtovTCzAVB7Ywqqb_zA%3A1639003134181&ei=_jOxYfb9CczD0PEP6r2w-As&ved=0ahUKEwj29OO8otX0AhXMITQIHeoeDL8Q4dUDCA4&uact=5&oq=tax+loss+harvesting&gs_lcp=Cgdnd3Mtd2l6EAMyCggAELEDEIMBEEMyBQgAEIAEMgoIABCABBCHAhAUMgQIABBDMgUIABCABDIFCAAQgAQyBQgAEIAEMgQIABBDMgQIABBDMgUIABCABDoHCAAQRxCwAzoHCAAQsAMQQzoICAAQ5AIQsAM6EAguEMcBEKMCEMgDELADEEM6EAguEMcBENEDEMgDELADEEM6BAgjECc6BggAEAcQHkoECEEYAEoECEYYAVCYA1ijCWDACmgBcAJ4AIABggGIAbEEkgEDMi4zmAEAoAEByAESwAEB&sclient=gws-wiz

			    maybe include the selling of cash secured puts of stocks that are cheap enough and i want to own anyway

			really interesting investing strategy of Peter Lynch
			    once you have this value investing app built
			        watch it again and take notes
			https://www.youtube.com/watch?v=J1DFMXL2kXE&t=1934s

	far in the future:

		dividend capture strat (modifications):

			Implement a version of the dividend capture strategy
				https://www.investopedia.com/articles/stocks/11/dividend-capture-strategy.asp

				invest in dividend stocks with as much leverage as you can get
					2x for interactive brokers
					https://www.quora.com/What-is-the-overnight-margin-requirement-for-SPY-for-Interactive-Brokers-Is-it-50-requirement-or-25-requirement

				then buy a put option thats on the money

				only do this if:

					the declared dividend per share times the number of shares of you're leveraged long position is greater than the cost of the put option plus the margin fees

					the profit of the put option from if the stock goes down is equal to or outpaces the loss of the leveraged long position

						side note: it would be amazing if the put (or multiple puts) outpaced the leveraged stock so that I would make EXTRA money if the stock went down

					verify that your broker won't margin call you if the price goes down because your option's value is making up the difference

						note: even if the broker does margin call you, you can still do the strategy you just have to exit both positions (possibly before the "Date of Record", and miss the dividend payment) at neither a profit nor a loss.

				wtf is this?
				https://www.quora.com/Is-it-common-practice-for-Interactive-Brokers-to-significantly-increase-overnight-margin-requirement-to-trade-against-and-screw-over-customers

				this is interesting
				https://www.reddit.com/r/qyldgang/comments/sxqnh6/is_there_a_strategy_for_chasing_various/

				https://www.dividend.com/dividend-stocks-and-options/covered-put-dividend-capture-strategy/

				https://www.daytrading.com/dividend-capture-strategy-options
					had an idea reading this that you could also sell an out-of-the-money call option
					its premium won't be as big as the put's but it will help decrease the put's cost
					which will be useful for making the dividend profitable

					this would require holding the stock until the expiration of both options, otherwise it could go down, you exit the put and the long shares, and then it goes up and you have to buy at the current price and sell them at the lower strike price

				https://www.theoptionsguide.com/dividend-capture-using-covered-calls.aspx

				Short Video - Covered Calls and Buy Writes in IBKR’s Trader Workstation
				https://www.youtube.com/watch?v=UfJFusZg16E

			so it seems that version wont work because the premium of the put option will often be greater than the dividend. 

				I might be able to do a different version of the dividend capture stragety.

					I need to create a 2nd account with IBKR. put half my money in the 1st account and half in the 2nd. 1 account will short the stock with 2x leverage and the other account with long the stock with 2x leverage. Since it's half the money and 2x leverage the long component will have 100% of the portfolio value long, and thus receiving the dividend. Since there is 0 price volitility the algo can jump between dividend stocks quickly (every 2 days, instead of every 2 weeks). There will be margin fees that the dividend will have to be larger than in order to profit, so that could still be a deal breaker until tested, but i have high hopes.

					notes:
						margin rates are 2.5% for ibkr lite (ibkr free version) and 
						Requests to have an account upgraded from a 'Cash' type to 'Margin' type can be initiated by logging in to Client Portal and selecting the Settings and Account Settings sections and clicking the gear icon next to the words "Account Type" in the Configuration section.
						https://www.google.com/search?q=ibkr+lite+margin+permission&sxsrf=APq-WBtnsqc1wgxcRDv2I1PT0w9WlzS-mw:1647551068212&source=lnms&sa=X&ved=2ahUKEwjk5K2Bhs72AhVJJ0QIHbsaDpYQ_AUoAHoECAEQAg&biw=1366&bih=618&dpr=1

						it appears you can only go long on margin if you dont have the money to do it without margin


						also the margin short position i took required that i sell a specific number of shares 

						also the stock exchanges ibkr is connected to are only "open from Monday through Friday 9:30 a.m. to 4:00 p.m. Eastern time." according to:
						https://www.google.com/search?q=stock+market+open+hours&oq=stock+market+open+hours&aqs=chrome..69i57j0i512l3j0i457i512j0i512l3j0i390l2.6448j0j7&sourceid=chrome&ie=UTF-8
						so i need to make my trades between 6:30am and 1:00pm PST

						im curious if margin fees are charged on weekend days too

						What brokerage has the best margin rates?
						https://www.reddit.com/r/wallstreetbets/comments/qac3bw/what_brokerage_has_the_best_margin_rates/

						typical margin calculation
							"The interest accrued each day is computed by multiplying the settled margin debit balance by the annual interest rate and dividing the result by 360."
						https://support.tastyworks.com/support/solutions/articles/43000435345-how-do-i-calculate-margin-interest-

						https://www.interactivebrokers.com/en/trading/margin-rates.php
							"IBKR accrues interest on a daily basis and posts actual interest monthly on the third business day of the following month."

						the margin fees posted here
							https://www.interactivebrokers.co.uk/en/index.php?f=1595
						are yearly according to the screenshot at
							~/rooms/money/interactive_brokers/margin_interest_is_an_annual_percentage.png

						create a linked account

							make 2 linked accounts and put $100 in each of them

							Create a New Linked Account
							https://guides.interactivebrokers.com/am3/am/settings/createnewlinkedaccount.htm

							ok so the link above is outdated and the clinet portal is different
								the way to link an account as of March 22, 2022 is to:
									log in to your current account
									click the person icon in the top right
									click settings
									click "Open an Additional Account"
									and then choose "Individual Account"
									"Accounts marked "Add Link": Will create a new account that is automatically linked to your existing account. You will have two linked accounts."
									the Individual Account is marked "Link New" which is close enough.

						Transfer funds from your First Account to your 2 linked accounts

							you can transfer funds between linked accounts!
								this will be faster than using my bank as a middle step
								this link doens't say how fast the transfer is and how much it costs though
									NOTE: upon discovering how to tranfer money, the tranfer page says:
										"Requests submitted during regular trading hours will transfer immediately. Requests submitted outside of regular trading hours will be processed the next business day."
							https://guides.interactivebrokers.com/am/am/funding/transferringfundsinternally.htm

							this page is also outdated, to transfer funds between linked accounts as of March 22, 2022:
								log into your account that you want to transfer money FROM
								go to "Transfer & Pay" then "Transfer Funds"
								then click "Transfer Funds Between Accounts"
								then select the account to transfer TO
								then set the currency and the ammount to transfer

							https://www.reddit.com/r/interactivebrokers/comments/kogjpr/how_to_transfer_funds_accross_internal_ib_accounts/

							https://www.interactivebrokers.com/en/?f=%2Fen%2Fgeneral%2Feducation%2Fhdi_Deposit_Withdraw_Transfer.php

							https://guides.interactivebrokers.com/cp/cp.htm#am/funding/transferringfundsinternally.htm

						to avoid liquidity issues when the portfolio value gets too big, what if for each trade you placed a limit order for the short side, and then you bought that same order with the long side, and then place the sell order when exitting the long side, then buy it back with the short side.

						so i need to have at minimum $2k in each long and short account in order to buy short on margin. for some reason the available cash to tranfer is only some of the money in my IBKR Main Account even though all the capital in that account in cash. So I was able to transfer $2500 into my Short Account and $500 into my long account. I bought 20 shares of BCH (Banko de Chile) on 2022-03-23 in my Long Account and shorted 20 shares in my Short Account. This stock's ex-dividend date is 2022-03-24, and it's pay date is 2022-04-07. Margin fees will be charged on April 3rd. Will the dividend profits outweigh the margin fee's and slight losses from trading? investing.com says their dividend is $0.85 per share. IB says its $1.33 per share though. Even if its $0.85 that should beat the losses. *fingers crossed*

							so I called IBKR Support Center and they said:
								(paraphrased) "funds deposited via ACH cannot be internally tranfered until 44 business days after the deposite."

								for me more funds will be on March 28th
									see deposite history for more dates

								https://www.reddit.com/r/interactivebrokers/comments/o9pml5/transfer_funds_internal_transfer_44_day/

			so this isn't going to work because:
			"If an investor is short a stock on the record date, they are not entitled to the dividend. In fact, the investor is instead responsible for paying the dividend owed to the lender of the shorted stock that they borrowed."
				- https://www.investopedia.com/ask/answers/042215/if-investor-short-dividendpaying-stock-record-date-are-they-entitled-dividend.asp

			so my next options are:

				to try to do the dividend capture strategy just going long without margin (or with 2x margin)
				and holding for a longer period of time
					maybe i could incorporate selling covered calls with this too
					since the calls will have about a 2 week duration
					i was originally thinking calls out of the money, but this guy is doing in the money
					https://www.theoptionsguide.com/dividend-capture-using-covered-calls.aspx

					this also looks very interesting
					https://www.theoptionsguide.com/dividend-arbitrage.aspx

				try to find correlated asset(s) without a dividend

				try to use options to simulate going short without actually going short (aka "synthetic short")
					buy an ATM put and sell an ATM call
					https://www.optionsplaybook.com/option-strategies/synthetic-short-stock/

					so i did this with ticker AHH on March 28
						bought 100 shares
						sold 1 call
						bought 1 put
						its ex-date is March 29
						its payout-date is April 7
						and its next dividend is $0.17 per share
						source: https://www.dividendinvestor.com/dividend-history-detail/ahh/

						according to the P/L chart on IBKR the net value of the premiums and other fees was -$5
						so if the dividend is $17 for 100 shares then i should make $12
						right before this trade my account had $13249.60
						right after  this trade my account has $13227.87
						a difference of $21.73
							WTF! it should have been $5
							Daily P/L is -$24?

						so i found that the way to get a list of all profits and losses is to go to:
							IBKR Client > Reports > Statements >Realized Summary
							set the "Period" to "Custom Date Range"
							and set the start date to before you created the account (beginning of 2022)
							and after you Run the report, click on the
								"Realized & Unrealized Report Summary"

							for some reason i have an unrealized loss on the call option i sold: AHH 14APR22 15.0 C
							and a realized loss on another call I sold: UWMC 18MAR22 5.0 C

							if I'm selling the call why is it at a loss?

							next attempt is to try to trade on td ameritrade

				try to time the shorts and enter before ex-dividend-date,
				and exist before record-date (to avoid negative dividend)

					maybe you could do this with 4x leverage (or 2x for when you don't day trade)
					one multiple stocks

					so from my research stocks rise the day before the ex-date and fall the day after the record-date

					so maybe instead of shorting after the ex-date and trying to avoid paying the dividend myself, i could just go long 2 days before the ex-date instead of 1, and exit at the end of the day before the ex-date, and profit on average? i feel like this strategy would be better if i had stock price data for many stocks and I did a study to see the average and std_dev price percent change multiple days before, on, and after the ex-date and the record-date. If it showed predictable increases/decreases where ppl claim, then i could do this strategy.

					on ibkr you get 3 day trades every 5 days
					you could also probably just sell the next morning
					https://www.reddit.com/r/interactivebrokers/comments/p8csaa/understand_pdt_rule/

			basic dividend capture strat

				How to see dividends payouts in ThinkorSwim
				reddit.com/r/thinkorswim/comments/i811vk/how_to_see_pending_dividends_payout_in/

		note:
			i gave up on parsing the individual submission that go back to 1993 and just parsed the SEC data here:
				https://www.sec.gov/dera/data/financial-statement-data-sets.html
				https://www.sec.gov/files/aqfs.pdf
			because of a bunch of bullshit that i don't remember at the time of writing this and because of this reddit post:
				https://www.reddit.com/r/algotrading/comments/qho8l8/have_you_been_able_to_parse_sec_filings_prior_to/

			one day far in the future i might return to get data that goes further back than 2009 and can parse cash inflow/outflow,

			or it might be better to first try to setup one of these free github projects
				or copy the parsing code from them ... if you can find it

				maybe try this lib thats also imported as "edgar"
				https://pypi.org/project/edgar/

				edgar python lib
				https://github.com/edgarminers/python-edgar

				ScraXBRL
					SEC Edgar Scraper and XBRL Parser/Renderer
				https://github.com/tooksoi/ScraXBRL

				py-sec-xbrl
					This is a tool intended to parse XBRL files from SEC. Thus, the focus is to parse XBRL XML files so that data is more easily accessible. The idea is to provide a tool for you to code you want instead of a tool that implements a workflow but is rigid.
				https://github.com/zhaolewen/py-sec-xbrl

				https://redwallanalytics.com/2020/02/18/a-walk-though-of-accessing-financial-statements-with-xbrl-in-r-part-1/

				https://www.fasb.org/cs/Satellite?blobcol=urldata&blobheader=application%2Fpdf&blobheadername1=Content-Disposition&blobheadername2=Content-Length&blobheadervalue1=filename%3DXBRL__Academic_Research-A_Workshop_on_How_to_Pull_XBRL_Data.pdf&blobheadervalue2=2199300&blobkey=id&blobnocache=true&blobtable=MungoBlobs&blobwhere=1175836305528&ssbinary=true

				parsing 10Ks
				https://gist.github.com/anshoomehra/ead8925ea291e233a5aa2dcaa2dc61b2

				pysec
					This is Django code that compiles a list of all SEC filings from EDGAR into SQL, allows you to download them at will, and parses 50+ key accounting terms from XBRL filings. It is also a Python XBRL parser that allows you to easily extract arbitrary XBRL terms while it handles the contexts, etc. appropriately.

					The XBRL parsing is translated from VB script written by Charles Hoffman, an accountant and XBRL expert, and reliably extracts more than 50 commonly used accounting terms.
				https://github.com/lukerosiak/pysec

				openedgar
					OpenEDGAR is a comprehensive framework for building databases from EDGAR, and can automate the retrieval and parsing of EDGAR forms.
					this might have an interesting parsing process, not sure what metrics it gets though
					https://github.com/LexPredict/openedgar
					doesn't seem to have the metrics i want though, see "Data Model" on the below link
					https://law.mit.edu/pub/openedgar/release/1

				py sec edgar
					A Python application used to download and parse complete submission filings from the sec.gov/edgar website. The goal for this project is to make it easy to get filings from the SEC website onto your computer for the companies and forms you desire.
				https://github.com/ryansmccoy/py-sec-edgar
				https://github.com/ryansmccoy/py-sec-edgar/blob/master/py_sec_edgar/extract.py
				https://py-sec-edgar.readthedocs.io/en/latest/readme.html#features
				https://awesomeopensource.com/project/ryansmccoy/py-sec-edgar

				sigma coding youtube
				https://github.com/areed1192/sigma_coding_youtube/blob/master/python/python-finance/sec-web-scraping/Web%20Scraping%20SEC%20-%2010K%20Landing%20Page%20-%20Single.ipynb

		parse total_cash_inflow and total_cash_outflow

			so for each 10-Q the cash flow is the sum of the last 10-Qs, and the 10-K is the sum too.
			companies submit their 10-K on different quarters so whichever quarter is after their 10-K
			will be their first 10-Q, and this 10-Q's net change in cashflow (along with the entire
			cashflow table) will be for a 3 month period. Their 2nd 10-Q's cash flow table will be for
			a 6 month period, their 3rd will be for a 9 month period, and their 10-K will be for the
			year. This fact was found from the company HR-Block's submissions from 2020q1 to 2021q3,
			verify with other companies that it goes 3 month, 6 month, 9 month, year, as well for when
			you plan to make this datapipeline gather quarterly cashflow data. This was the command
			used for HR-Block:
				python driver.py -rvltcd -q 2020q1 2020q2 2020q3 2020q4 2021q1 2021q2 2021q3 2021q4 -x HRB
			run it for a different ticker than HRB then go to that stocks fundamentals.csv and run:
				python
				import pandas as pd
				df = pd.read_csv('fundamentals.csv')
				pd.set_option('display.max_colwidth', 200)
				df[['sub_qtr_enddate', 'quarter', 'year', 'sec_urls_HTML']]
			in order to easily view all the submission URLs
			open all of these URLs in your browser
			and check out the period used for the table "CONSOLIDATED STATEMENTS OF CASH FLOWS"

		see if one of these things has data for companies farther back than 2009
	
			https://www.sec.gov/os/accessing-edgar-data

		parse the TXT of the filings themselves
			and the TXT has the HTML in it
			and the HTML should be similar to the XML, and have the tags

			in order to calculate total cash inflow and total cash outflow we need to sum up the positives and the negatives in the cash flow statements, and also the sum of the positives and negatives that went into making net income, because net income is a value in the cash flow summations. This could most easily be achieved i believe with using the pandas read_html function to isolate the values in the cash flow table (and the table with net income)

			other possible solution:
				write a script to iterate over all subissions
					get their html
					read the tables
						Condensed Consolidated Statements of Operations
						Condensed Consolidated Statements of Cash Flows
					find the set of ALL tags for all tables
					manually read the definitions of those tags and determine which ones to use and whether to assign a positive or negative value
					search for those tags in the submissions and sum up the cash inflow and cash outflow

					this script would be used because each submission has different rows in these 2 tables

			cash flow definitions/links
				https://www.waveapps.com/accounting/education-center/net-cash-flow-formula
				https://smallbusiness.chron.com/calculate-companys-cash-flow-18919.html
				https://www.investopedia.com/terms/c/cashflow.asp
				https://www.investopedia.com/terms/f/freecashflow.asp
				https://www.investopedia.com/terms/c/capitalexpenditure.asp

	    update csv and json files to a mysql database

	        because it'll make integrating into airflow involve using the MySQLOperator
	        it'll also look better for a job application

	        mysql is in general about just as fast as csv
	        https://stackoverflow.com/questions/561058/csv-vs-mysql-performance
	        https://www.quora.com/What-makes-SQL-faster-than-just-reading-through-a-CSV-file-using-a-language-like-Python-or-Java

	        you can set the mysql data dir in your docker image
	        https://stackoverflow.com/questions/6754944/where-is-my-database-saved-when-i-create-it-in-mysql

	        see the "Design" section of NOTES.txt for database tables and columns

		other potentially interesting data from the company.info yahoo finance API call
			debtToEquity
			totalCash
			totalDebt
			totalRevenue
			totalCashPerShare
			revenuePerShare
			shortName
			longName
			sharesOutstanding
			bookValue
			heldPercentInstitutions
			heldPercentInsiders
			priceToBook
			floatShares # not over time, but just comparing current float shares to currect shares outstanding
			logo_url
		
			to display on the GUI
				note:
					anythings to do with price such as P/E, dividend yield, and price to book ratio, should be calculated on the fly by the GUI using the current day's price


Design

	BACKEND

		DATABASE

			psuedo code
				on daily intervals:
					for each stock that is currently listed
						query interactive brokers for the price data
						and update the database if you found any
					check to see if the SEC has released a new quarter's company filings
						if yes, parse the new quarter's data and update the database
					run the rebalance stratagy
						this strategy will not be rebalancing daily but it will be calculating the best portfolio to have for when it does rebalance (which will be in line with the ex-dividend dates and such)

			data
				location: value-investing-app/database/sec/financial_statements_data_sets/data
				the "data" folder has 3 subfolders: "lake", "quality_report", "warehouse"
					subfolder descriptions
						"lake"
							"lake" is the original raw data downloaded from the SEC Financial Data Sets
						"warehouse"
							"warehouse" is the parsed data from the data "lake". it has a subfolder called "stocks", which has several subfolders itself, each representing an individual stock. Each stocks folder is named after the SEC CIK id for that stock, each stock has the following tables with the following columns:
								daily_price_data.csv - this data is aquired from yahoo finance
									Date   - date of price
									Close  - closing price that day
									Volume - volume traded that day
								dividend_per_share_history.csv - this data is aquired from yahoo finance
									Date      - date dividend was paid
									Dividends - dividend per share amount paid out on that date
								fundamentals.csv - this data is aquired from the SEC
									sub_qtr_enddate          - end date on the submission itself
									quarter                  - quarter sub_qtr_enddate falls within
									year                     - year sub_qtr_enddate falls within
									shares_outstanding       - number of shares outstanding
									total_assets             - total number of assets the company had this quarter
									total_liabilities        - total number of liabilities the company had this quarter
									total_revenue            - total revenue the company earned this quarter
									total_expenses           - total revenue the company paid this quarter
									net_income               - net income the company earned this quarter
									earnings_per_share       - earnings per share this quarter
									dividends_paid           - total amount of money paid out as dividends this quarter
									sec_urls_all_files       - SEC URL of all files the SEC has for this submission
									sec_urls_filing_details  - SEC URL of filing details page (contains links to XML, HTML, and TXT)
									sec_urls_XML             - SEC URL of XML version of submission
									sec_urls_HTML            - SEC URL of HTML version of submission (easiest to read)
									sec_urls_TXT             - SEC URL of TXT version of submission
								info.json - this data is aquired from the SEC and Yahoo Finance
								    "asset_type": stock asset type: ex: "EQUITY"
								    "cik": SEC CIK id of company
								    "country": company's country of incorporation
								    "description": company description
								    "ex_dividend_date": most recent ex dividned date
								    "industry_classification": {
								        "gics": {
								            "industry": GICS industry
								            "sector": GICS sector
								        },
								        "sic": {
								            "division": SIC division
								            "industry_group": SIC industry group
								            "major_group": SIC major group
								            "sic": SIC code
								        }
								    },
								    "name": company name
								    "ticker": company ticker symbol
								    "website": company website
								stock_split_history.csv - this data is aquired from yahoo finance
									Date         - date of stock split
									Stock Splits - stock split ratio
							the data "warehouse" also has the tables listed below (used mostly by the collection script):
								metadata.json - various metadata: "number_of_metrics", "quarters_downloaded", "total_number_of_stocks", etc
								sic_codes.csv - map of all SIC codes to their classification names
								state_and_country_codes.csv - map of all state and country codes to their names
								ticker_list.csv - map of all CIK ids to their ticker and company name
							there will also be another table called:
								stock_comparison:
									... tdb # full of metrics of the quality of the stocks dividends, each row is a stock
									is the dividend consistent? is it growing?
									is the price stable? is it growing?
									is the assets and liabilites managed well?
									is there a lot of revenue? is there a lot of expenses?
						"quality_report"
							"quality_report" shows the quality of the data in "warehouse" and provides the data for 4 displays to view the quality of the data

							chart 1: price data of each stock vs days
								y axis: stocks
								x axis: days (from 2009 Q1 to present)

								each cell will either be black or white
									black means we have no price data for this day
									white means we do have price data for this day

								to the right of chart 1 will be another chart with a different x axis the x axis will have
								1 value and be labeled "if ever?" (label tbd) and it will be black or white if we have any price data on the individual stock at all, underneath it, it will show the total percentage of all stocks that we have price data for as just a number.

							chart 2: stocks vs quarters
								y axis = stocks
								x axis = quarters
								each cell:
									black if no data was collected for this stock for this quarter
									red to green spectrum of the data collected for this stock/quarter
										red   = 0%   of the metrics were collected for this stock and quarter
										green = 100% of the metrics were collected for this stock and quarter

								to the right of chart 2 will be another chart with a different x axis the x axis will have
								1 value and be labeled "constant metrics" such as ticker, name, etc.
								as opposed to the "variable metrics" of chart 1 such as total_assets, total_liabilities, etc.

							chart 3: metrics vs quarters
								y axis = metrics
								x axis = quarters
								each cell:
									black if no data was collected for this metric for this quarter
									red to green spectrum of the data collected for this stock/quarter
										red   = 0%   of the stocks had this metric for this quarter
										green = 100% of the stocks had this metric for this quarter

								to the right of chart 3 is going to be another chart with different y axis values
									a different list of metrics
								its going to be a color chart too but with only one value on the x axis labeled "constant_metrics"
								this chart reprensents the metrics that dont change over time such as company_name, ticker symbol, company description etc. These metrics are listed alphabetically along the y axis. 
									These metrics listed are:
										all metrics in the info.json file
										price data
										dividend history
										stock split history
											note: the last 3 do vary over time but this chart will only count them if the dataframe isn't empty for each stock.

							chart 4: stocks vs metrics
								y axis = stocks
								x axis = metrics
									each cell:
										black if no data was collected for this metric for this stock
										red to green spectrum of the data collected for this stock/metric
											red   = 0%   of the quarters had this metric for this stock
											green = 100% of the quarters had this metric for this stock
										note:
											the metrics listed on chart 3 are both variable and constant metrics
											because chart 3 compresses the variable metrics down into 1 number anyway by summing them.

							it would be nice if all this could be stored in a 3d array
							but this would require each cell to have 3 possible values:
								never searched for because this quarter/stock/metric wasn't submitted
								searched for but not found
								searched for and found

							flutter probably wants a 2d array to plot it though so its probably best to just store it as 3 separate csv files:
								chart 1 csv:
									columns: cik, list of all quarters
									each value will be an int that represents the number of metrics
									successfully collected for this stock/quarter
								chart 2 csv:
									columns: metric_name, list of all quarters
									each value will be an int that represents the number of stocks
									successfully collected for this metric/quarter
								chart 3 csv:
									columns: cik, list of all metrics
									each value will be an int that represents the number of quarters
									successfully collected for this metric/stock
							json file: totals.json
								{
									'total_number_of_stocks'   : int tbd,
									'total_number_of_metrics'  : int tbd,
									'total_number_of_quarters' : int tbd,
								}
								these total_numbers_of_* are used to calculate the percentages for each int

					"data" folder structure tree
						.
						├── lake
						│   ├── 2009q1
						│   │   ├── num.txt
						│   │   ├── pre.txt
						│   │   ├── readme.htm
						│   │   ├── sub.txt
						│   │   └── tag.txt
						│   ├── 2009q2
						│   │   ├── num.txt
						│   │   ├── pre.txt
						│   │   ├── readme.htm
						│   │   ├── sub.txt
						│   │   └── tag.txt
						│   │   ...
						│   ├── 2021q3
						│   │   ├── num.txt
						│   │   ├── pre.txt
						│   │   ├── readme.htm
						│   │   ├── sub.txt
						│   │   └── tag.txt
						│   └── 2021q4
						│       ├── num.txt
						│       ├── pre.txt
						│       ├── readme.htm
						│       ├── sub.txt
						│       └── tag.txt
						├── quality_report
						│   ├── metric_vs_quarter
						│   │   ├── constant_metrics.json
						│   │   └── variable_metrics.csv
						│   ├── price_data_stock_vs_day
						│   │   └── price_data_coverage.csv
						│   ├── stock_vs_metric
						│   │   ├── constant_metrics.csv
						│   │   └── variable_metrics.csv
						│   └── stock_vs_quarter
						│       ├── constant_metrics.json
						│       └── variable_metrics.csv
						└── warehouse
						    ├── metadata.json
						    ├── sic_codes.csv
						    ├── state_and_country_codes.csv
						    ├── stocks
						    │   ├── 12659
						    │   │   ├── daily_price_data.csv
						    │   │   ├── dividend_per_share_history.csv
						    │   │   ├── fundamentals.csv
						    │   │   ├── info.json
						    │   │   └── stock_split_history.csv
						    │   ├── 1819574
						    │   │   ├── daily_price_data.csv
						    │   │   ├── dividend_per_share_history.csv
						    │   │   ├── fundamentals.csv
						    │   │   ├── info.json
						    │   │   └── stock_split_history.csv
						    │   │   ...
						    │   └── 99302
						    │       ├── daily_price_data.csv
						    │       ├── dividend_per_share_history.csv
						    │       ├── fundamentals.csv
						    │       ├── info.json
						    │       └── stock_split_history.csv
						    └── ticker_list.csv

			notes:

				script argument "replace"
					script: value-investing-app/database/sec/financial_statements_data_sets/src/driver.py
					--replace -r
					for each metric in each submission
						the database's value of this metric will only be replaced if:
							the old value is "None" and the new value isn't "None" or
							the old value isn't "None" and the new value isn't "None" and the --replace/-r argument is provided
						the data quality report's count of this metric will only be incremented if:
							the old value is "None" and the new value isn't "None"

				no matter which submission or quarter we restart the algo at we're not fucking up the database or the data quality reports. If we want to change which metrics the data gets however we'ed have to clear the database and re-collect all the data.

				test command to get data for just 3 stocks over 4 quarters:
					python driver.py -rvcldt -q 2021q1 2021q2 2021q3 2021q4 -x HRB BARK TRNS

					its easiest if for each file you want to test, you step through each submission and see how the file changes after each submission

					to do:
						none

					done:
						data/warehouse/stocks/<cik>/fundamentals.csv
						data/warehouse/metadata.json
						data/quality_report/metric_vs_quarter/constant_metrics.json
						data/quality_report/metric_vs_quarter/variable_metrics.json
						data/quality_report/stock_vs_quarter/constant_metrics.json
						data/quality_report/stock_vs_quarter/variable_metrics.json
						data/quality_report/price_data_stock_vs_day/price_data_coverage.csv
						data/quality_report/stock_vs_metric/constant_metrics.csv
						data/quality_report/stock_vs_metric/variable_metrics.csv

				dividend_per_share history was put in a different table than fundamentals.csv because some companies provide dividends on a different frequency than quarterly, so it would fuck up the rows in fundamentals.csv, the dividend_per_share_history table has columns: [date, dividend_per_share]


		OTHER WEB SERVER BACKEND STUFF

			tbd, possible backends

	FRONTEND

		main page:

			tabs across the top labeled:

				"Portfolio Management"
					this tab shows a chart of the total portfolio value over time, and marks the dates the portfolio received dividends
					it then lets you set the number of stocks you want in the portfolio, n (to control the diversivication level)
					and lets you set the weights for each stock on a 2d chart
					theres then a dropdown that lets you select the stocks, you can either:
						custom select them yourself
						sort by custom ranking system and pick the top n stocks:
							the ranking system measures
								the dividend yield percentage
								the dividend stability/consistency
								the stock price growth percentage
								the stock price stability or volitility
							the user weights the priority of these 4 qualities with 100% split between the 4
					program automatically rebalances each time it finds better stocks or the portfolio weights diverge from what the user sets.
						the user also specifies the frequency with which they want the rebalancing to occur
						theres a checkbox thats checked by default that controls if you want the rebalance to occur slowly over time to avoid missing dividend payments (will take at most a quarter or 2's duration). or the user can uncheck it to do the rebalance immediately
					theres also a dropdown with the following options
						reinvests your dividends
						keep the dividends in cash and do nothing
						keep the dividends in cash and withdraw a specified percentage to the specified bank account

				"Money Management"

				"Number of Shares"
					this tab shows a chart over time of the total number of shares authorized, issued, and outstanding
					it also shows over time the stock splits

				"Price & Dividend Chart"
					this shows a price chart of the stock
					and marks the date of the dividend payments
					and the date by which you need to be in the stock to get that dividend
					and any other dates of importance ... tbd
						provide tooltips of the definitions of each of these values


Possible Strategy Ideas:


	Value Investing Strategy:

		for each stock s:

			get the quarterly history of the:
				A. amount of money made that quarter (from products/services sold), basically all cash inflow
				B. amount of money spent that quarter (on paying off debt, on paying employees, ect.), basically all cash outflow
					show executive compensation vs employee compensation if you can get the data
				C. net value of all assets (money, physical objects they could sell if they had too, etc.)
				D. net value of all liabilities (debt, etc.)
				E. dividend

			calculate what we'll call total_value (for lack of a better term)
				F. total_value = (A + C) - (B + D + E)

			plot these quarterly values over time
				along with the total_value and the price
					but make the price on daily intervals instead of quarterly
					because we want to see how price responds (if at all, to changes in these fundamental values)
				give the user the ability to checkbox certain values and plot some or all of them
				default plot shows all of them
				colors
					total_assets	  = green
					total_liabilities = red
					cash_inflow	   = blue
					cash_outflow	  = orange
					dividend		  = yellow

			create 2 more values
				the equation needs to rank a stock better if it, has a steadly growing dividend, and a large dividend.
					G. dividend as a percentage of price (aka yield)
						this shows me where i can get the most money for my investment
					H. but price fluxtuates chaotically so also dividend as a percentage of total_value
						this measures the generosity to its shareholds of a company
					I. also just total_value

				TBD: how is the steady-ness going to be mathematically represented?

		on a 2d graph, plot G on the x axis and H on the y axis
		and make each stock a dot on the plot

		is it possible for me to find companies that will be successful before they are successful?
			are there consistent patterns?
			how is success defined:
				success is defined as a company I want to invest in:
				I want to invest in:
					consistently growing dividend
					fast growing dividend
					consistently growing price
					fast growing price


	spread trade idea:
		Basic Idea:
			What if i looked at the p/e ratio over time for all stocks and did a spread trade where i shorted a basket of a lot of stocks with a high P/E ratio and longed a basket with a low P/E ratio?
		Problem:
			The market isn't 100% rational value investors though so some stocks with a high P/E ratio will defy all odds and the mania will lead to a "bubble" (aka a game of who's the greatest fool? Its sort of like a pyramid scheme) and continue to outperform their earnings more and more. At some point there won't be any more buyers and it will burst but it can't be timed (so far as i know). Could this idea perhaps be implemented with puts on high P/E stocks and calls on low P/E stocks instead of going long and short? If you could use options instead then so long as the stock market as a whole (or the sector as a whole) didn't stay sideways, then eventually some of your calls or some of your puts would start profiting, and the ones that don't just loose the premium cost instead of even bigger losses from going long or short.

				What is the correlation coefficient of
					all stocks?
					all stocks in each country?
					all stocks in each sector?
					all stocks in each industry?
					all stocks filtered by the other industry classification systems as well

			It would be best to view price to earnings over time for all stocks on a single chart, and from that data determine if this would be an effective strategy, or something similar.
				make the chart have 3 check boxes on the side that determine if the chart shows:
					1 price
					2 earnings (on a separate axis than price)
					3 earnings_per_share (on the same axis as price)
					4 price to earnings ratio (on a 3rd axis)

					color code the axes and the chart data to make it obvious which axis is for which lines on the plot


	According to this interview with lyn alden (at 0:00:00) foreign stocks usually have a better dividend yield than US stocks.

		https://www.youtube.com/watch?v=-9I318eoJec&t=821s

		What is the number of stocks this database parses by each country.
	

Data Sources:

	Imlemented:

		Used:

            Finanical Statements Data Set:

                THIS LINK WILL BE WAAAAYYYYYYY EASIER TO PARSE than the actual submissions
                    only goes back to 2009 though :(
                https://www.sec.gov/dera/data/financial-statement-data-sets.html

                this link explains what the downloaded data contains
                    metrics i care about:
                        sub
                            adsh - Accession Number. The 20-character string formed from the 18-digit number assigned by the SEC to each EDGAR submission.
                                "Accession number: In the example above, 0001193125-15-118890 is the accession number, a unique identifier assigned automatically to an accepted submission by EDGAR. The first set of numbers (0001193125) is the CIK of the entity submitting the filing. This could be the company or a third-party filer agent. Some filer agents without a regulatory requirement to make disclosure filings with the SEC have a CIK but no searchable presence in the public EDGAR database. The next two numbers (15) represent the year. The last series of numbers represent a sequential count of submitted filings from that CIK. The count is usually, but not always, reset to zero at the start of each calendar year."
                                - https://www.sec.gov/os/accessing-edgar-data
                            cik - C entral Index Key (C IK). Ten digit number assigned by the SEC to each registrant that submits filings.
                            name - Name of registrant. This corresponds to the name of the legal entity as recorded in EDGAR as of the filing date.
                            sic - Standard Industrial Classification (SIC ). Four digit code assigned by the SEC as of the filing date, indicating the registrant’s type of business.
                                https://en.wikipedia.org/wiki/Industry_classification
                            countryba - The ISO 3166-1 country of the registrant's business address.
                            form - The submission type of the registrant’s filing.
                                10-Q, 10-K, etc.
                            period - Balance Sheet Date
                            fy - Fiscal Year Focus (as defined in EFM Ch. 6).
                            fp - Fiscal Period Focus (as defined in EFM Ch. 6) within Fiscal Year. The 10-Q for the 1st, 2nd and 3rd quarters would have a fiscal period focus of Q1, Q2 (or H1), and Q3 (or M9) respectively, and a 10-K would have a fiscal period focus of FY.
                            filed - The date of the registrant’s filing with the Commission.
                            instance - The name of the submitted XBRL Instance Document (EX101.INS) type data file. The name often begins with the company ticker symbol.
                        tag
                            tag - The unique identifier (name) for a tag in a specific taxonomy release.
                            doc - The detailed definition for the tag (truncated to 2048 characters). If a standard tag, then the text provided by the taxonomy, otherwise the text assigned by the filer. Some tags have neither, and this field is NULL.
                        num
                            adsh
                            tag
                            ddate - The end date for the data value, rounded to the nearest month end.
                            qtrs - The count of the number of quarters represented by the data value, rounded to the nearest whole number. “0” indicates it is a point-in-time value.
                            uom - The unit of measure for the value.
                            value - The value. This is not scaled, it is as found in the Interactive Data file, but is limited to four digits to the right of the decimal point. 
                        pre
                            nothing from this table
                https://www.sec.gov/files/aqfs.pdf

                done notes:
                    does it have the data i need? does it have share splits?
                        it has country, sector, and industry data

                    sadly a few of the submissions dont have the data i need
                        the data is in the form on the SEC website
                        but its not in the num.txt file for some reason

                        so i need to create a program that parses this stuff
                        then if anything is missing, i parse the xml
	
		    yahoo finance
		        it will be way easier to get the data I want than parsing SEC filings
	            yahoo finance has free historical daily price data for global stocks
				    https://help.yahoo.com/kb/SLN2310.html
				but historical fundamentals back to a company's IPO requires payment
			        https://finance.yahoo.com/quote/NFLX/financials?p=NFLX
	      			https://www.yahoo.com/plus/finance?ncid=dcm_311080551_490172245_127172993
			    it seems to have stock split and dividend per share history all the way back though
	      			ex: MSFT
		        setup the code to find all the tickers from the SEC
		        then set up the yahoo finance calls on this list of tickers (calling it from the json)
		            libs
		                yfinance
		                    see function "get_ticker_by_isin" in utils file of yfinance
		                        i think it could get ALL the tickers on yahoo finance
		                    figure out API stuff
		                        how is yfinance using the yahoo finance API?
		                        how can i still use yfinance but use my API key?
		                        why are my API calls in yf_api.py not appearing on the dashboard
		                            https://www.yahoofinanceapi.com/dashboard
		                    https://pypi.org/project/yfinance/
		                    https://github.com/ranaroussi/yfinance
		                    https://analyticsindiamag.com/top-python-libraries-to-get-historical-stock-data-with-code/
		                    https://algotrading101.com/learn/yahoo-finance-api-guide/
		                    https://aroussi.com/post/python-yahoo-finance
		            yahoo_fin
		                http://theautomatic.net/yahoo_fin-documentation/#stock_info
		                http://theautomatic.net/2020/05/05/how-to-download-fundamentals-data-with-python/
		                https://algotrading101.com/learn/yahoo-finance-api-guide/
		        Yahoo Finance Essentials Plus has a 14 day free trial
		            and see if you can get data for each of the tickers for each quarter in the list
		            https://finance.yahoo.com/quote/NFLX/financials?p=NFLX
		            https://www.yahoo.com/plus/finance?ncid=dcm_306158723_490172245_127172993
		            not sure how to make api calls using Yahoo Finance Essentials Plus
		                how will the server know its me? does yfinance lib have anything I could use to specify its me
		                at the very least i can just iterate over the tickers and 
		            other libs
		                https://github.com/janlukasschroeder/sec-api

	    Unused:

		    edgar

		        https://pypi.org/project/python-edgar/
		        https://github.com/edgarminers/python-edgar

		        this tutorial downloads all the forms
		            the tutorial uses the edgar library, if you wanted you could just take the parts of the library you need and not import it.
		        https://codingandfun.com/python-sec-edgar-scraper/

		        used this link to figure out what to assign the user_agent variable
		        https://sec-edgar.github.io/sec-edgar/usage.html      

		            user_agent is a value thats passed to the SEC API to identify you
		            https://www.sec.gov/os/accessing-edgar-data

		            and copied the way this script formats the header the user_agent is passed in
		            https://github.com/edgarminers/python-edgar/blob/master/edgar/main.py

	Unimplemented:

		the sec-api lib has "standardized financial statements from any 10-K and 10-Q filing"

			sources:

				pip install
				https://pypi.org/project/sec-api/

				sign up and get free api keys
				https://sec-api.io/

				docs
					it also has
						executive comp: https://sec-api.io/docs/executive-compensation-api
						sector and industry of multiple types: https://sec-api.io/docs/mapping-api
				https://sec-api.io/docs

				github
				https://github.com/janlukasschroeder/sec-api-python

			its a paid service ... deal breaker
			created acount and got free api key
				signed in with github
				api key: 6ded5e35010ea5c85645a89881ef3b225431878c964d85e064830511c9ba694f

			notes:

				"The query API gives access to all over 18 million SEC Edgar filings of over 8000 publicly listed companies, ETFs, hedge funds, mutual funds, and investors dating back to 1993"

				i think this means i can query it and the data will be better quality

				still not sure how to get all tickers (or CIKs) with the edgar lib though

			does sec-api have a way to iterate over them (for each quarter)?
				this!
					it provides a list of all companies in a given sector
					AND it provides a list of ALL supported sectors
				https://sec-api.io/docs/mapping-api/list-companies-by-sector

				maybe this? run the example query and modify it to see if you can get the ticker or cik set
				https://sec-api.io/docs/query-api/request-parameters

				however once i have all the tickers I still wont be able to know which quarters each ticker has submitted filings for. If i can't figure out a way to do this then I'll have to use the edgar API for that

				i think i can use the query language to get all filing urls for a given ticker or cik
				https://sec-api.io/sandbox
				https://sec-api.io/sandbox/apple-sec-filings

		Parsing SEC Filings (Newer Ones) in Python | Part 1
		https://www.youtube.com/watch?v=TxUmufNnIaA

		FundamentalAnalysis
			free vs paid account
				free
					only allows you to get fundamental data a year into the past
				paid - $14/month
			https://financialmodelingprep.com/developer/docs/pricing
				U: email
				P: SNYR9>)+~)%>s,UKuSHk
		https://pypi.org/project/FundamentalAnalysis/

		vector_cache
			not free
		https://github.com/andrewkittredge/vector_cache

		Yahoo Financials
			https://github.com/JECSand/yahoofinancials
		https://pypi.org/project/yahoofinancials/

		pysec
			This is Django code that compiles a list of all SEC filings from EDGAR into SQL, allows you to download them at will, and parses 50+ key accounting terms from XBRL filings. It is also a Python XBRL parser that allows you to easily extract arbitrary XBRL terms while it handles the contexts, etc. appropriately.

			The XBRL parsing is translated from VB script written by Charles Hoffman, an accountant and XBRL expert, and reliably extracts more than 50 commonly used accounting terms.

			Q: which terms?
		https://github.com/lukerosiak/pysec

		zacks-estimates-financial-statements
		https://github.com/evdubs/zacks-estimates-financial-statementshttps://github.com/evdubs/zacks-estimates-financial-statements

		Py Sec Edgar
		https://awesomeopensource.com/project/ryansmccoy/py-sec-edgar

		open edgar
		https://github.com/LexPredict/openedgar


Data Definitions:

    10-Q

        CONDENSED CONSOLIDATED STATEMENTS OF OPERATIONS
            Total Net Sales
            Total Cost of Sales
            Total Operating Expenses
            Operating Income = Total Net Sales - Total Cost of Sales - Total Operating Expenses
            Other Income/Expenses, net
            Provision for Income Taxes
            Net Income = Operating Income +/- Other Income/Expenses, net - Provision for Income Taxes
                note: "Net Earnings" is synonomous to "Net Income"
            Earnings per share = Net Income / (number of shares (basic or diluted))
                Basic
                Diluted
            Shares used in computing earnings per share:
                Basic
                Diluted

                note:
                    What is the difference between basic shares and fully diluted shares?
                        "Basic shares represent the number of common shares that are outstanding today (or as of the reporting date).  Fully diluted shares equals basic shares plus the potentially dilutive effect from any outstanding stock options, warrants, convertible preferred stock or convertible debt.  In calculating a company’s market value of equity (MVE) we always want to use diluted shares.  Implicitly the market also uses diluted shares to value a company’s stock."
                    https://ibankingfaq.com/interviewing-technical-questions/enterprise-value-and-equity-value/what-is-the-difference-between-basic-share-and-fully-diluted-shares/

                "Diluted" vs. "Basic"
                    "In financial statements, you'll often see references to "diluted" and "basic" earnings per share. What's the difference? Well, it reflects some interesting changes in how companies report their earnings. At the end of 1997, a new rule went into effect, instituted by the Financial Accounting Standards Board. It required companies to report their quarterly earnings per share in two ways: basic and diluted.

                    This is important stuff for investors to understand, since corporate per-share profits are, in many ways, at the core of all things financial. Per-share profits show investors their share of a company's total profits. Fools should pay attention to the diluted numbers, not the basic ones.

                    Basic EPS is net income, less any preferred-stock dividends, divided by the weighted average number of common stock shares outstanding during the reporting period. Diluted EPS also takes into account stock options, warrants, preferred stock, and convertible debt securities, all of which can be converted into common stock. These common-stock equivalents represent the potential claims of other owners on earnings and show investors how much of the company's earnings they're entitled to, at a minimum."
                https://www.fool.com/investing/value/2006/04/24/quotdilutedquot-vs-quotbasicquot.aspx

        CONDENSED CONSOLIDATED STATEMENTS OF COMPREHENSIVE INCOME

          Total comprehensive income = Net income - Total other comprehensive income/(loss)
              note:
                  Comprehensive Income
                      "Comprehensive income includes net income AND unrealized income, such as unrealized gains or losses on hedge/derivative financial instruments and foreign currency transaction gains or losses."
                  https://www.investopedia.com/terms/c/comprehensiveincome.asp

                  Net Income Vs. Comprehensive Income

                      "Businesses use up economic resources called assets to start up, maintain and run their operations. Assets can be acquired in one of two methods -- either through incurring economic obligations called liabilities to other entities or through receiving them as investments from business owners. This investment is called equity or net assets since assets minus liabilities is equal to equity. Net income is the financial gain or loss that a business has made in one single time period while comprehensive income is the change in equity in that same time period originating in non-owner sources.

                      In general, revenues and expenses are recorded on the accounts when the transactions are both realized and collectible. Collectible means that the sums, if owing, can expect to be collected while realized means that the source transaction has been completed. Certain transactions produce unrealized gains and losses that do not appear as either revenues or expenses but are recorded as changes in equity.

                      Net income or net loss is equal to the sum of all revenues in the period minus the sum of all expenses in the period. If revenues exceed expenses, it is a net income and vice versa. Net income and net loss represent the change in the business's financial circumstances because of it running its revenue-producing operations for the period.

                      Comprehensive income is equal to net income plus other comprehensive income. Other comprehensive income is a catch-all term for changes in equity from non-owner sources, including unrealized gains and losses on investments because of changing market prices, on foreign exchange fluctuations, and the like. Because of the volatile nature of these items, comprehensive income is more susceptible to change than net income."

              https://bizfluent.com/info-8754360-net-income-vs-comprehensive-income.html

        CONDENSED CONSOLIDATED BALANCE SHEETS

            ASSETS:
                Total current assets (sum of the below assets)
                    Cash and cash equivalents
                        note:
                            Cash And Cash Equivalents (CCE)
                                "Cash and cash equivalents refers to the line item on the balance sheet that reports the value of a company's assets that are cash or can be converted into cash immediately. Cash equivalents include bank accounts and marketable securities, which are debt securities with maturities of less than 90 days. However, oftentimes cash equivalents do not include equity or stock holdings because they can fluctuate in value."
                                    - https://www.investopedia.com/terms/c/cashandcashequivalents.asp
                    Marketable securities
                        note:
                            Common Examples of Marketable Securities
                                "Marketable securities are investments that can easily be bought, sold, or traded on public exchanges. The high liquidity of marketable securities makes them very popular among individual and institutional investors. These types of investments can be debt securities or equity securities."
                                    - https://www.investopedia.com/ask/answers/033015/what-are-some-common-examples-marketable-securities.asp
                    Accounts receivable, net
                        note:
                            Net Receivables
                                "Net receivables are the total money owed to a company by its customers minus the money owed that will likely never be paid. Net receivables are often expressed as a percentage, and a higher percentage indicates a business has a greater ability to collect from its customers."
                                    - https://www.investopedia.com/terms/n/netreceivables.asp
                    Inventories
                        note:
                            Is Inventory a Current Asset?
                                "Inventory is a current asset when the business intends to sell them within the next accounting period or within twelve months from the day it’s listed in the balance sheet." ... "Inventory is goods and items of value that a business holds and plans to sell for profit. This includes merchandise, raw materials, work-in-progress and finished products."
                                    - https://www.freshbooks.com/hub/accounting/is-inventory-current-asset
                    Vendor non-trade receivables
                        note:
                            Non trade receivables definition
                                "Non trade receivables are amounts due for payment to an entity other than its normal customer invoices for merchandise shipped or services performed. Examples of non trade receivables are amounts owed to a company by its employees for loans or wage advances, tax refunds owed to it by taxing authorities, or insurance claims owed to it by an insurance company."
                                    - https://www.accountingtools.com/articles/what-are-non-trade-receivables.html
                    Other current assets
                        note:
                            Other Current Assets (OCA)
                                "Other current assets (OCA) is a category of things of value that a company owns, benefits from, or uses to generate income that can be converted into cash within one business cycle. They are referred to as “other” because they are uncommon or insignificant, unlike typical current asset items such as cash, securities, accounts receivable, inventory, and prepaid expenses."
                                    - https://www.investopedia.com/terms/o/othercurrentassets.asp
                Total non-current assets (sum of the below assets)
                    Marketable securities
                        note:
                            same definition as "Marketable securities" in "Total current assets"
                    Property, plant and equipment, net
                        note:
                            Property, Plant, and Equipment (PP&E)
                                "Property, plant, and equipment (PP&E) are long-term assets vital to business operations. Property, plant, and equipment are tangible assets, meaning they are physical in nature or can be touched; as a result, they are not easily converted into cash."
                                    - https://www.investopedia.com/terms/p/ppe.asp
                    Other non-current assets
                        note:
                            same definition as "Other current assets" in "Total current assets"
                Total Assets = Total current assets + Total non-current assets
                  note:
                    Current Assets vs. Noncurrent Assets: What's the Difference?
                      "Current assets are assets that are expected to be converted to cash within a year. Noncurrent assets are those that are considered long-term, where their full value won't be recognized until at least a year."
                    https://www.investopedia.com/ask/answers/030215/what-difference-between-current-assets-and-noncurrent-assets.asp

            LIABILITIES AND SHAREHOLDERS’ EQUITY:

                Total current liabilities (sum of the below liabilities)
                  Accounts payable
                    note:
                      Accounts Payable (AP)
                        "Accounts payable (AP) are amounts due to vendors or suppliers for goods or services received that have not yet been paid for." ... (aka) ... ""Accounts payable" (AP) refers to an account within the general ledger that represents a company's obligation to pay off a short-term debt to its creditors or suppliers."
                      https://www.investopedia.com/terms/a/accountspayable.asp
                  Other current liabilities
                    note:
                      Other Current Liabilities
                        "Other current liabilities, in financial accounting, are categories of short-term debt that are lumped together on the liabilities side of the balance sheet. The term "current liabilities" refers to items of short-term debt that a firm must pay within 12 months. To that, companies add the word "other" to describe those current liabilities that are not significant enough to identify separately on their own lines in financial statements, so they are grouped together as "other current liabilities.""
                      https://www.investopedia.com/terms/o/othercurrentliabilities.asp
                  Deferred revenue
                    note:
                      Deferred Revenue
                        "Deferred revenue, also known as unearned revenue, refers to advance payments a company receives for products or services that are to be delivered or performed in the future. The company that receives the prepayment records the amount as deferred revenue, a liability, on its balance sheet.

                        Deferred revenue is a liability because it reflects revenue that has not been earned and represents products or services that are owed to a customer. As the product or service is delivered over time, it is recognized proportionally as revenue on the income statement."
                      https://www.investopedia.com/terms/d/deferredrevenue.asp
                  Commercial paper and repurchase agreement
                    note:
                      Repurchase Agreement (Repo)
                        " A repurchase agreement (repo) is a form of short-term borrowing for dealers in government securities. In the case of a repo, a dealer sells government securities to investors, usually on an overnight basis, and buys them back the following day at a slightly higher price. That small difference in price is the implicit overnight interest rate. Repos are typically used to raise short-term capital. They are also a common tool of central bank open market operations.

                        For the party selling the security and agreeing to repurchase it in the future, it is a repo; for the party on the other end of the transaction, buying the security and agreeing to sell in the future, it is a reverse repurchase agreement."
                      https://www.investopedia.com/terms/r/repurchaseagreement.asp
                  Term debt
                    note:
                      Current portion of long-term debt (CPLTD) 
                        "The current portion of long-term debt (CPLTD) is the amount of unpaid principal from long-term debt that has accrued in a company’s normal operating cycle (typically less than 12 months). It is considered a current liability because it has to be paid within that period."
                      https://www.bdc.ca/en/articles-tools/entrepreneur-toolkit/templates-business-guides/glossary/current-portion-of-long-term-debt
                Total non-current liabilities (sum of the below liabilities)
                  Term debt
                    note:
                      Long-Term Debt
                        "Long-term debt is debt that matures in more than one year. Long-term debt can be viewed from two perspectives: financial statement reporting by the issuer and financial investing. In financial statement reporting, companies must record long-term debt issuance and all of its associated payment obligations on its financial statements. On the flip side, investing in long-term debt includes putting money into debt investments with maturities of more than one year."
                      https://www.investopedia.com/terms/l/longtermdebt.asp
                  Other non-current liabilities
                    note:
                      Other Long-Term Liabilities
                        "Other long-term liabilities are a line item on a balance sheet that lumps together obligations that are not due within 12 months. These debts that are less urgent to repay are a part of their total liabilities but are categorized as “other” when the company doesn’t deem them important enough to warrant individual identification."
                      https://www.investopedia.com/terms/o/otherlongtermliabilities.asp
                Total Liabilities = Total current liabilities + Total non-current liabilities
                  note:

                    Types of Liabilities
                      Current liabilities, also known as short-term liabilities, are debts or obligations that need to be paid within a year.
                      Non-current liabilities, also known as long-term liabilities, are debts or obligations due in over a year’s time.
                      Contingent liabilities are liabilities that may occur, depending on the outcome of a future event. For example, when a company is facing a lawsuit of $100,000, the company would incur a liability if the lawsuit proves successful.
                    https://corporatefinanceinstitute.com/resources/knowledge/accounting/types-of-liabilities/

                Total shareholders’ equity
                  Common stock and additional paid-in capital, $0.00001 par value: 12,600,000 shares authorized; 4,323,987 and 4,443,236 shares issued and outstanding, respectively
                    note:
                      Common Stock
                        "
                        Authorized shares

                          When a business applies for incorporation to a secretary of state, its approved application will specify the classes (or types) of stock, the par value of the stock, and the number of shares it is authorized to issue. When its articles of incorporation are prepared, a business will often request authorization to issue a larger number of shares than what is immediately needed.

                          To illustrate, assume that the organizers of a new corporation need to issue 1,000 shares of common stock to get their corporation up and running. However, they foresee a future need to issue additional shares. As a result, they decide that their articles of incorporation should authorize 100,000 shares of common stock, even though only 1,000 shares will be issued at the time that the corporation is formed.
                          
                        Issued shares

                          When a corporation sells some of its authorized shares, the shares are described as issued shares. The number of issued shares is often considerably less than the number of authorized shares.

                          Corporations issue (or sell) shares of stock to obtain cash from investors, to acquire another company (the new shares are given to the owners of the other company in exchange for their ownership interest), to acquire certain assets or services, and as an incentive/reward for key officers of the corporation.

                          The par value of a share of stock is sometimes defined as the legal capital of a corporation. However, some states allow corporations to issue shares with no par value. If a state requires a par value, the value of common stock is usually an insignificant amount that was required by state laws many years ago. If the common stock has a par value, then whenever a share of stock is issued the par value is recorded in a separate stockholders' equity account in the general ledger. Any proceeds that exceed the par value are credited to another stockholders' equity account. This required accounting (discussed later) means that you can determine the number of issued shares by dividing the balance in the par value account by the par value per share.

                        Outstanding shares

                          If a share of stock has been issued and has not been reacquired by the corporation, it is said to be outstanding. For example, if a corporation initially sells 2,000 shares of its stock to investors, and if the corporation did not reacquire any of this stock, this corporation is said to have 2,000 shares of stock outstanding.

                          The number of outstanding shares is always less than or equal to the number of issued shares. The number of issued shares is always less than (or equal to) the authorized number of shares.
                        "
                      https://www.accountingcoach.com/stockholders-equity/explanation/2
                  Retained earnings
                    note:
                      Retained Earnings
                        "Retained earnings are an important concept in accounting. The term refers to the historical profits earned by a company, minus any dividends it paid in the past.

                        RE = BP + Net Income (or Loss) − C − S
                        where:
                          RE = Retained earnings
                          BP = Beginning Period RE
                          C  = Cash dividends
                          S  = Stock dividends"
                      https://www.investopedia.com/terms/r/retainedearnings.asp
                  Accumulated other comprehensive income/(loss)
                    note:
                      Accumulated Other Comprehensive Income
                        "Accumulated other comprehensive income (OCI) includes unrealized gains and losses reported in the equity section of the balance sheet that are netted below retained earnings. Other comprehensive income can consist of gains and losses on certain types of investments, pension plans, and hedging transactions. It is excluded from net income because the gains and losses have not yet been realized."
                      https://www.investopedia.com/terms/a/accumulatedother.asp

        CONDENSED CONSOLIDATED STATEMENTS OF SHAREHOLDERS’ EQUITY
            the only thing parsed from this table is:
                Dividends and dividend equivalents declared
                    note:
                        total dividend payout
                Dividends and dividend equivalents declared per share or RSU
                    note:
                        dividend payout per share

        CONDENSED CONSOLIDATED STATEMENTS OF CASH FLOWS

            nothing taken from this table

        also grab the quarter and year from the page footer on every page after the table of contents on page 2
            cant, on some forms the footer is just the page number
                ex: https://www.sec.gov/ix?doc=/Archives/edgar/data/1000045/000095017021004287/nick-20210930.htm

            done notes
                parsed net_income instead of total_cash_inflow and total_cash_outflow
                    might come back to it another time to get total_cash_inflow and total_cash_outflow
                        possibly using tag: us-gaap:RevenueFromContractWithCustomerExcludingAssessedTax
                            in https://www.sec.gov/Archives/edgar/data/1000229/0000950170-21-002488-index.html

                            or tag: us-gaap:Revenues
                            in https://www.sec.gov/Archives/edgar/data/1000045/0000950170-21-004287-index.html
                stock splits
                    see if they match up with shares outstanding
                    stock splits are in form 10-K

                    couldn't find stock split data for most of the 10-K forms, did find it for the below 10-K though
                        company filing submission 355 of 6777
                            downloading filing submission
                                https://www.sec.gov/Archives/edgar/data/1057352/0001057352-21-000104-index.html
                                https://www.sec.gov/ix?doc=/Archives/edgar/data/1057352/000105735221000104/csgp-20210930.htm
                                https://www.sec.gov/Archives/edgar/data/1057352/000105735221000104/csgp-20210930_htm.xml

                            need to figure out a way to determine if its a forward stock split or a reverse stock split
                                "A reverse split reduces the overall number of shares a shareholder owns, causing some shareholders who hold less than the minimum required by the split to be cashed out. The forward stock split increases the overall number of shares a shareholder owns."
                                https://www.investopedia.com/terms/r/reverse-forward-split.asp

                            need to verify the stock splits are correct
                            https://www.stocksplithistory.com/

                    Adjusting Historical Stock Prices for Splits Using SQL
                    https://stackoverflow.com/questions/63945130/adjusting-historical-stock-prices-for-splits-using-sql
                dividend (both total amount and per share)

                    verify the dividends paid divided by the shares outstanding equal dividends per share
                        it seems to be correct, make sure to look at only the dividends paid for this quarter

                    if the dividends paid are not for a 3 month period:
                        for total amount you need to subtract Q1 for Q2 total, Q2 from Q3 total, etc.
                        ex: the dividends for this 10q are for 9 months becuase tis 10q is for Q3
                            Ctrl + F: "Cash dividends paid to SWM stockholders"
                            https://www.sec.gov/ix?doc=/Archives/edgar/data/1000623/000100062321000129/swm-20210930.htm
                    however sometimes the dividneds paid are for a 3 month period:
                        for example:
                            Ctrl + F: "Dividends paid"
                            https://www.sec.gov/ix?doc=/Archives/edgar/data/1000229/000095017021002488/clb-20210930.htm
    
                    right now the program will assume a dividend of 0 if it cant find anything in the form
                    all thats left to do is write the code that pulls the data of the previous quarters dividends paid from the mysql db. see fn. parse_dividends_paid_from_xml() in driver.py

                    Important Dividend Dates
                        Dividend payments follow a chronological order of events and the associated dates are important to determine the shareholders who qualify for receiving the dividend payment.

                        Announcement date:
                            Dividends are announced by company management on the announcement date, or declaration date, and must be approved by the shareholders before they can be paid.
                        Ex-dividend date:
                            The date on which the dividend eligibility expires is called the ex-dividend date or simply the ex-date. For instance, if a stock has an ex-date of Monday, May 5, then shareholders who buy the stock on or after that day will NOT qualify to get the dividend as they are buying it on or after the dividend expiry date. Shareholders who own the stock one business day prior to the ex-date—that is on Friday, May 2, or earlier—will receive the dividend.
                        Record date:
                            The record date is the cutoff date, established by the company in order to determine which shareholders are eligible to receive a dividend or distribution.
                        Payment date:
                            The company issues the payment of the dividend on the payment date, which is when the money gets credited to investors' accounts.
                    https://www.investopedia.com/terms/d/dividend.asp

		another sources:

			How To Read Form 10-Q Quarterly Earnings 📈 Release. Using Tesla Q2 2020 Report!
				Equity = Assets - Liabilities
					https://bench.co/blog/accounting/assets-liabilities-equity/
			https://www.youtube.com/watch?v=KDVH9eDF5QA

    10-K

        example 10-Ks:

            AAPL's 10-K for 2020
            https://www.sec.gov/ix?doc=/Archives/edgar/data/0000320193/000032019320000096/aapl-20200926.htm

            AAPL search
            https://www.sec.gov/edgar/browse/?CIK=320193&owner=exclude

        How do you find a public company’s Q4 results?
            "You can’t. The SEC does not require a 10-Q for the fourth quarter, as it would be unnecessarily redundant, given the information found in the 10-K. About the best you can do to look at Q4 is to take the annual numbers from the 10-K income statement and subtract the third quarter year to date figures found in the third quarter 10-Q."
        https://www.quora.com/How-do-you-find-a-public-company%E2%80%99s-Q4-results

    sector and industry
          
        https://smallbusiness.chron.com/company-sic-codes-13398.html
        https://www.investopedia.com/ask/answers/05/industrysector.asp

        ways to get sector and industry are
            SIC
              https://www.investopedia.com/terms/s/sic_code.asp
                The SIC system classifies the economy into 11 major divisions:
                  Agriculture, forestry, and fishing
                  Mining
                  Construction
                  Manufacturing
                  Transportation and public utilities
                  Wholesale trade
                  Retail trade
                  Finance, insurance, real estate
                  Services
                  Public administration
                  Nonclassifiable establishments
                  These are then divided into 83 two-digit major groups, and further subdivided into 416 three-digit industry groups and then into more than 1,000 four-digit industries.
                Every company has a primary SIC code that indicates its main line of business. The first two digits of the SIC code identify the major industry group, the third digit identifies the industry group, and the fourth digit identifies the specific industry.
              https://en.wikipedia.org/wiki/Standard_Industrial_Classification#Structure
                SIC codes have a hierarchical, top-down structure that begins with general characteristics and narrows down to the specifics. The first two digits of the code represent the major industry sector to which a business belongs. The third and fourth digits describe the sub-classification of the business group and specialization, respectively. For example, "36" refers to a business that deals in "Electronic and Other Equipment." Adding "7" as a third digit to get "367" indicates that the business operates in "Electronic, Component and Accessories." The fourth digit distinguishes the specific industry sector, so a code of "3672" indicates that the business is concerned with "Printed Circuit Boards."
              https://www.sec.gov/corpfin/division-of-corporation-finance-standard-industrial-classification-sic-code-list
              https://libguides.calvin.edu/business/industry
                https://www.osha.gov/data/sic-manual
              https://www.thecorporatecounsel.net/blog/2016/03/sic-codes-how-does-the-sec-assign-them.html
              https://offistraedgarfiling.com/standard-industrial-classification-sic-code-list/
            NAICS
              https://www.census.gov/naics/
              https://libguides.calvin.edu/business/industry
                https://www.census.gov/naics/?58967?yearbck=2017
              https://libguides.umgc.edu/c.php?g=970568&p=7014343
            GICS

              Sectors
                Energy
                Materials
                Industrials
                Consumer Discretionary
                Consumer Staples
                Health Care
                Financials
                Information Technology
                Communication Services
                Utilities
                Real Estate

              https://www.msci.com/our-solutions/indexes/gics

              https://www.investopedia.com/terms/g/gics.asp
              https://en.wikipedia.org/wiki/Global_Industry_Classification_Standard
              https://stackoverflow.com/questions/11339993/getting-stocks-by-industry-via-yahoo-finance
              https://www.spglobal.com/ratings/en/?ffFix=yes
                U: email
                P: ajyEDY463@%$
                Ratings_Content_Management@spglobal.com

              could potentially scrap it from yahoo finance
              https://finance.yahoo.com/quote/AAPL/profile/
                maybe theres an API?
            ICB (Industry Classification Benchmark), a classification structure maintained by Dow Jones Indexes and FTSE Group
                https://www.ftserussell.com/data/industry-classification-benchmark-icb

        I couldn't find the SIC on the 10Q but i found a page on the SEC website with the SIC that just uses the CIK in the URL (see the function parse_sic_code()). For the mapping of the SIC to the industry classification names i created the function download_standard_industrial_codes(), which uses 2 sources to create a list of all SIC codes, the SEC and OSHA. Of the SIC codes I've encountered in the 1st dozen 10-Qs of 2021 Q4, all of them have been in the SEC source, but the OSHA source provides the hierarchical structure the SIC codes use (as described in Wikipedia and Investopedia). I have found codes in the first dozen 10-Qs of 2021 Q4 that aren't in the OSHA source though. So both sources are needed.


Exchanges:

	desired qualities:
		has api
		available to US citizens
		zero trading fee
		provides options trading
		provides stock investing

	Fidelity Investments
		deposit fee: $0.00
		withdrawal fee: $0.00
		withdrawl limit:
		minimum deposit: $0.00
		sells your order flow?: No
			"Fidelity doesn't engage in payment for order flow (PFOF)"
				- https://www.investopedia.com/fidelity-vs-robinhood-4587945#:~:text=Fidelity%20doesn't%20engage%20in,market%20maker%20execute%20the%20order.&text=Fidelity%20clients%20enjoy%20a%20healthy,but%20below%20average%20for%20options.
		has margin trading:
		margin fee: 
		leverage:
		web/mobile: yes/yes
		api:
			no, but this 3rd party link might work:
			https://rapidapi.com/apidojo/api/fidelity-investments
		has paper trading: no
		fractional share trading:
		overnight leverage:
		has:
			stocks: yes
				stock trading fee: $0.00
			bonds: yes
			currencies: yes
			commodities:
			crypto: 
			options: yes
				options fee: $0.65 per contract
		other:
			Mobile check deposit. Customers can deposit checks into their cash management account through the Fidelity mobile app.
			When completing a wire transfer where U.S. dollars are converted into a foreign currency, Fidelity charges up to 3% of principal. Also, whenever a foreign asset in a Fidelity account pays a dividend, the broker charges 1% of principal.
				- https://www.brokerage-review.com/discount-broker/hiddenfees/fidelity-hiddenfees.aspx

	TD Ameritrade
		deposit fee: $0.00
		withdrawal fee: $0.00
		withdrawl limit: $100k every 7 days
		minimum deposit: $0.00
		sells your order flow?: yes
			- https://daytradingz.com/payment-for-order-flow/
		has margin trading: yes, but with $2k minimum deposit
		margin fee:
		leverage:
		web/mobile: yes/yes
		api: Yes
			https://developer.tdameritrade.com/apis
		has paper trading: Yes
			https://tickertape.tdameritrade.com/tools/paper-trading
		fractional share trading: No,
			"TD Ameritrade doesn't offer fractional share purchases"
				- https://www.bankrate.com/investing/best-brokers-fractional-share-investing/#:~:text=TD%20Ameritrade%20doesn't%20offer,year%20or%20the%20year%20following.
		overnight leverage:
		has:
			stocks: yes
				stock trading fee: $0.00
			bonds: yes
			currencies: yes
				https://www.tdameritrade.com/investment-products/forex-trading.html
			commodities: yes, via futures
				https://www.tdameritrade.com/futures/products-to-trade.html
			crypto: yes, but via futures
				https://www.tdameritrade.com/futures/products-to-trade.html
			options: yes
				options fee: $0.65 per contract
		other:
			TD Ameritrade outbound full account transfer (ACAT) fee	$75
				- https://www.brokerage-review.com/online-brokers/fees/ameritrade.aspx
				- https://www.brokerage-review.com/discount-broker/hiddenfees/tdameritrade-hiddenfees.aspx
				i think this is when you want to transfer your portfolio somewhere else
				without exiting your positions

			TD Ameritrade was recently aquired by Charles Schwab

	Charles Schwab
		api: no
			https://www.reddit.com/r/algotrading/comments/j9fnrj/td_api_charles_schwab_acquisition/

	WeBull
		deposit fee: ACH is free of charge
		minimum deposit: $0
		deposit limit: $50k/day
		withdrawal fee: ACH is free of charge
		withdrawl limit: $50k/day
		sells your order flow?: yes
			https://daytradingz.com/payment-for-order-flow/
		has margin trading: 
		margin fee: 
		leverage:
		web/mobile:
		api: No, but theres multiple unoffical APIs
			https://wetradehq.com/guide/I-coded-a-WeBull-Trading-Bot
		has paper trading:
		fractional share trading:
		overnight leverage:
		has:
			stocks: yes
				stock trading fee: $0.00
			bonds:
			currencies:
			commodities:
			crypto: 
			options:
				options fee:
		other:
			https://www.webull.com/hc/categories/fq258-What-are-the-fees-associated-with-transferring-funds-from-my-bank
			https://pic.webull.com/PDFs/Margin%20Disclosure%20Statement%20%E2%80%93%20Finra%20Rule%202264.pdf
			https://www.reddit.com/r/Webull/comments/fhy3cl/whats_it_take_to_get_approved_for_options/

	Alpaca
		deposit fee: $0.00
		withdrawal fee: $0.00
			https://alpaca.markets/support/cost-for-withdrawing/
		withdrawl limit:
		minimum deposit: $0.00 for individuals, $30k for businesses
			https://brokerchooser.com/broker-reviews/alpaca-trading-review#:~:text=The%20required%20Alpaca%20Trading%20minimum,a%20minimum%20deposit%20of%20%2430%2C000.
		sells your order flow?:
			yes
				https://algotrading101.com/learn/alpaca-trading-review/#alpaca-trading-pros-and-cons
		has margin trading: yes
			https://alpaca.markets/docs/trading-on-alpaca/margin-and-shorting/
		margin fee: 3.75 %
			https://algotrading101.com/learn/alpaca-trading-review/#alpaca-trading-pros-and-cons
		leverage: 2x
			https://alpaca.markets/docs/trading-on-alpaca/margin-and-shorting/
		web/mobile: yes/yes
			https://alpaca.markets/learn/open-source-mobile-trading-app/
		api: YES
			docs
			https://alpaca.markets/docs/api-documentation/
		has paper trading: yes
			https://alpaca.markets/docs/trading-on-alpaca/paper-trading/
		fractional share trading: yes
			https://alpaca.markets/support/how-do-dividends-work-for-fractional-shares/
		overnight leverage:
		has:
			stocks: yes
				stock trading fee: $0.00
				https://forum.alpaca.markets/t/pricing-and-fees/2309
			bonds: no
			currencies: no
			commodities: no
			crypto: no
			options: no
				options fee: N/A
		other:
			"Another potential downside is that Alpaca does not offer historical data directly. Instead, it utilizes two different third-party data providers. This could be important to algo traders who rely heavily on accurate data as the prices being traded on the platform can differ from the provided historical data."
				- https://algotrading101.com/learn/alpaca-trading-review/#alpaca-trading-pros-and-cons

			biggests downside is alpaca doesnt support options trading
				it will eventually though
				https://forum.alpaca.markets/t/options-trading-yet/4170/4

			only available to US residents

			good place to get started
			https://alpaca.markets/community

	Robinhood
		sells your order flow?: yes
			https://daytradingz.com/payment-for-order-flow/
		api: no

	E-Trade
		sells your order flow?: yes
			https://daytradingz.com/payment-for-order-flow/
		api: yes
			https://developer.etrade.com/getting-started
			https://www.reddit.com/r/algotrading/comments/isfqwu/algo_trading_etrade/
			but it sucks
			https://www.reddit.com/r/algotrading/comments/gmisit/etrade_algos/

	Interactive Brokers
		deposit fee: $0.00
			- https://www.reddit.com/r/stocks/comments/7ok8bh/interactive_brokers_deposit_fee/
		minimum deposit: $0.00
			- https://www.interactivebrokers.com/en/index.php?f=4969
		withdrawal fee: $0.00
		withdrawl limit: $50k per day and a maximum of $100k in 5 business days
		sells your order flow?: Yes
			"Interactive Brokers makes money off its order flow"
				- https://www.stockbrokers.com/review/interactivebrokers
			https://www.reddit.com/r/interactivebrokers/comments/kw34ob/i_really_need_some_help_picking_ibkr_lite_vs_pro/
		has margin trading: yes
		margin fee:
			https://www.stockbrokers.com/review/interactivebrokers/fees-features
		leverage:
			not sure
			https://www.interactivebrokers.com/en/index.php?f=26658&hm=us&ex=us&rgt=1&rsk=0&pm=1&rst=101004100808
		web/mobile: yes/yes
		api: yes
			https://www.interactivebrokers.com/en/index.php?f=5041
			https://www.interactivebrokers.com/en/index.php?f=5039
			https://algotrading101.com/learn/interactive-brokers-python-api-native-guide/
			but its hard to use
			https://www.reddit.com/r/algotrading/comments/ig1cd5/alpaca_vs_interactive_brokers_for_python/
			and its not free:
				https://www.reddit.com/r/algotrading/comments/maml8l/some_questions_about_ib_api_data_cost/
				https://www.interactivebrokers.com/en/pricing/research-news-marketdata.phpo
				delayed price data is free though
					"By default, users will receive free delayed market data for available exchanges."
						- https://www.interactivebrokers.com/en/index.php?f=14193
					"Delayed market data is on a time lag that is usually 10-20 minutes behind real-time"
						- https://ibkr.info/article/2966
			other sources:
				https://www.elitetrader.com/et/threads/ib-api-vs-td-ameritrade-api.326079/
		has paper trading: yes
			https://www.interactivebrokers.com/en/software/omnibrokers/topics/papertrader.htm
		fractional share trading: yes
			https://www.interactivebrokers.com/en/index.php?f=45718
		overnight leverage: tbd
		has:
			stocks: yes
				stock trading fee: $0.00
			bonds: yes
			currencies: yes
			commodities: no
			crypto: yes
				https://www.interactivebrokers.com/en/index.php?f=49513
			options: yes
				options fee: $0.65 per contract
		other:
			none so far

	Merrill Edge
		api: yes, but it sucks
			https://www.reddit.com/r/investing/comments/kmlgxz/merrill_edge_marketpro_worst_platform_in_existence/
			doesnt support stock trading
			https://www.reddit.com/r/algotrading/comments/nsa3o8/new_api_release_today_for_boa/

	other sources:
		https://www.stockbrokers.com/guides/free-stock-trading
		https://www.reddit.com/r/algotrading/comments/g5u88q/what_is_the_best_free_stock_trading_api/


Sources:

	iso codes, these are different codes than what the 10-Q uses
	https://en.wikipedia.org/wiki/List_of_ISO_3166_country_codes

	SEC data

		SEC Form 10-Q Definition
		https://www.investopedia.com/terms/1/10q.asp

		EDGAR

			EDGAR Company Filings | CIK Lookup
			https://www.sec.gov/edgar/searchedgar/cik.htm
				example:
					AAPL: CIK=320193
					https://www.sec.gov/edgar/browse/?CIK=320193

			EDGAR Company Search
				Search by: Name, Ticker, or CIK
			https://www.sec.gov/edgar/searchedgar/companysearch.html

			Accessing EDGAR Data
			https://www.sec.gov/os/accessing-edgar-data

			EDGAR API Docs
			https://www.sec.gov/edgar/sec-api-documentation

			SEC Developer Resources
			https://www.sec.gov/developer

			Example of what my code downloads
				https://www.sec.gov/Archives/edgar/data/1326801/0001326801-19-000069-index.html
				https://www.sec.gov/Archives/edgar/data/1326801/000132680119000069/fb-09302019x10q.htm#s86440F9012665AA1B578CBCDC37CB566

			public companies must submit a report in 40 days
				"
				a. 40 days after the end of the fscal quarter for large accelerated flers and accelerated flers (as defned in 17 CFR § 240.12b2) ;and
				b. 45 days after the end of the fscal quarter for all other registrants.
				"
					- https://sec.report/Form/10-Q				

		libraries:

			https://medium.com/@jan_5421/sec-edgar-api-2-b2cfb82c1d9e

			pysec
				pulls the forms from the SEC website and parses them for 50 fundamental variables
			https://github.com/lukerosiak/pysec

			django-sec
				does the same thing as pysec but more fleshed out
			https://github.com/chrisspen/django-sec

			ScraXBRL
				SEC Edgar Scraper and XBRL Parser/Renderer
			https://github.com/tooksoi/ScraXBRL

			Accessing EDGAR Data
			https://www.sec.gov/edgar/searchedgar/accessing-edgar-data.htm

			Parsing SEC Documents
			https://github.com/areed1192/sigma_coding_youtube/blob/master/python/python-finance/sec-web-scraping/Web%20Scraping%20SEC%20-%20Parsing%20SEC%20Documents%20-%20New%20Filings.ipynb

			financial_fundamentals 
			https://github.com/andrewkittredge/financial_fundamentals

	dividend aristocrats list

		The S&P 500 Dividend Aristocrat index was launched by Standard and Poors in May 2005
		A stock must be a member of the S&P 500
		A stock must have increased their dividend payment for at least the past 25 consecutive years.

		click here to see the stocks on the list:
	https://en.wikipedia.org/wiki/S%26P_500_Dividend_Aristocrats

	This is the Fastest Possible Way to Live Off Dividends
		Covered Call
			description
				sell out of the money covered calls and make a profit on the premiums
			example tickers:
				qyld, 11.78%, volitile and steady decline over time
					it still has a good dividend and if you did rebalancing then when this falls
					you would buy more and as it grows you would sell parts of it
		BDC (Business Development Companies)
			description:
				a BDC invests in small to medium sized businesses and when these businesses make a profit they are required to give back a negociated percent of their profits to the BDC and the BDC is required by law to give 90% of the money to its shareholders, most of them pay quarterly dividends.
			example tickers:
				arcc, 8.38% dividend, price is volitile but not shrinking over time and is generally flat
				newt stock, 7.03% dividend, price is volitile but not shrinking over time and is generally flat
	https://www.youtube.com/watch?v=6GgZo5OjDpE

	best site for viewing dividend history
	https://seekingalpha.com/

	python lib to parse XML:
		ended up using beautiful soup because it was way easier than the library called XML
			https://www.geeksforgeeks.org/parsing-tables-and-xml-with-beautifulsoup/
			http://www2.hawaii.edu/~takebaya/cent110/xml_parse/xml_parse.html
			https://www.crummy.com/software/BeautifulSoup/bs4/doc/
		this is the xml library though
			https://www.reddit.com/r/learnpython/comments/6zagt6/is_there_a_python_xml_parser_that_doesnt_suck_ass/
			https://docs.python.org/3/library/xml.etree.elementtree.html

	https://www.youtube.com/watch?v=Wi9PPoS9cxI
	https://www.youtube.com/watch?v=KDVH9eDF5QA


Preston Pysh's Value Investing Notes:
	https://www.youtube.com/playlist?list=PLsJrbQrdqmnzgPyboulJK9HQWxHHj-GdT

	COURSE 1


		1. What is Value Investing

			Asset - something that makes you money (aka cash inflow)
			Liability- something that costs you money (aka cash outflow)


			Value Trading - continuously trading assets/liabilities/static value objects, ideally for things more valuable 
				http://oneredpaperclip.blogspot.com/
			Value Investing - the accumulation of assets (usually long term)


		2. Value a Small Business Like Warren Buffett
			Revenue - money made over a specified period of time
			Net Income - money made after liabilities have been paid off and after taxes

			If you buy an asset (a company or part of a company, aka a stock) then the net income of the asset divided by the price you paid for the asset will equal the amount of time it will take to pay that asset off. However since you're not looking to "pay it off" per say (because you can sell it at any time), think of it more as a place to store youre money. The income of the asset while you own it will give a "x percent return on your investment every year (or whatever period of time income come in)"

		IDEA:
		calculate the return on investment 
		if it ever rises to its true value, and there's another stock that is at a lower price where i can buy a better return on investment, transfer the stock i own in the first company into the second company (ideally buying more shares)


		3.
			Income Statement - document that says net income of the company
			Balance Sheet - Assets minus liabilies = equity,   (equity is the money left over if you liqidated the business right now)
			Margin of Safety - current price minus equity OR (expresses as percentage: = equity / current price)
			Compare Net Income and Equity - 


		4. What is a Share?
			Share - a piece of a company
			Share Outstanding - total number of shares a company is broken up into
			Market Price - Total price of buying the whole company / the number of Shares Outstanding
			Earnings (aka EPS(Earnings per Share)) - the company's Net Income / the number of Shares Outstanding
			Book Value - the company's Equity / the number of Shares Outstanding
			Price to Earnings Ratio (P/E) - Market Price / Earnings
				"For every P/E dollars I spend on this stock, I will recieve 1 dollar every year."
			Price to Book Value - Market Price / Book Value
				"For every (Price to Book Value) dollars i spend on this stock, I have 1 dollar of Equity of th business."


		5. Warren Buffett Stock Basics
			His 4 rules for buying a stock (must have all 4):
				1. Stable and Understandable:
					understandable - same earnings year in and year out, consistently grow equity at 10% a year, or whatever
					can easily predict worth of company in the future because they do the same thing each year basically lol
				2. Long term prospect (aka the company will exist, and their product is still in demand 30 40 years from now)
				3. Stock must be managed by vigilent leaders (aka manage dept well)
				4. Stock must be undervalued (lower than estimated intrinsic value)

			His old valuation technique:
				looking for P/E of 15 or lower, aka 6.67% return on investment
				looking for Price to Book Value Ratio of 1.5 or lower 
				
				if (P/E)*(P/(book value)) < 22.5 then the stock is undervalued

			His opinion on the market/patience/individuality:
				"I buy on the assumption that the stock market could close tomorrow and not open for another 5 years."
				"Somedays you'll be offered great buys and somedays you'll be offered horrible deals. Your job is to know when is a bad deal."
				Think for yourself.


		6. What is a Bond?
			What a bond is:
				Par Value - ex. $1000 - moeny you get when to bond matures
				Buy Value - price buyer of bond pays = Par Value plus the underwriters fee (ex. $5)
				Term - ex. 30 years - duration bond exists, at the end of the term the owner of the bond gets the par value
				Mature - a bond becomes mature when it reaches it's term limit
				Coupon Rate - ex. 5% - owner of bond makes 5% of the Par Value of the bond a year for the duration of the Term  

			Who uses/issues bonds:
				Corporations (aka companies)
				Governments
				
				they both go through banks

			Bond Risks:
				the risk of a bond is if a company/government can't pay back its debt from the bond


		7. What are the Components of a Bond?
			Par Value - The money that the bond owner gets when the bond matures
			Coupon Rate - the percentage of the Par Value that the bond owner recieves each year
			Term - How long the bond gives coupon payments
			Market Value - the price the buyer pays for the bond

			As a bond approaches maturity, its Market price approaches its Par Value.

			Basis Points - 1% in interest rates (what the coupon is) is 100 basis points

			When interest rates go up, bond prices go down, and vice versa.


		8. Value a Bond and Calculate Yield to Maturity
			Simple Interest - (number of coupons) * (coupon payment) 
				Coupon Yield - 1 years worth of coupon payments / Par Value (aka the coupon rate)
				Current Yield - 1 years worth of coupon payments / Market Price
			Compound Interest - compound interest is where you use the coupon payments of one bond to buy another asset, so the next time you get a payment you get the interest from both (those payments you also invest, and its basically recursive)
				Yield to Maturity - idk, google it, however i do know:
					if you buy a bond at the market price, and you hold it until maturity
					assuming you're reinvesting your coupon payments in other assets (aka using compound interest)
					the net money you'll make from the bond is, the net money made from the coupon payments plus the difference between the price you bought it at and the Par Value. Yield to maturity is somehow calculated from this, however, the YIELD AT MATURITY (aka money made) is what was just previously stated: Coupon Payments + (Par Value - Buy Value)


		9. What is the Stock Market?
			THE VALUE OF SOMETHING IS ONLY WHAT PEOPLE ARE WILLING TO PAY FOR IT	
			Buyers Market - more sellers than buyers, so sellers are competing with each other, and the buyers takes the lowest price 
			Sellers Market - more buyers than sellers, so buyers are competing with each other, and the seller takes the highests price

			Stop Order - also referred to as a stop-loss order, is an order to buy or sell a stock once the price of the stock reaches a specified price, known as the stop price. When the stop price is reached, a stop order becomes a market order. A buy stop order is entered at a stop price above the current market price

			Limit Order - a direction given to a broker to buy or sell a security or commodity at a specified price or better

			Mr. Market - your emotionally disturbed business partner
				Some days he's super hyped about how much money he's making
				Some days he's got a horrible additute, and will say: "Watch out, this stock will take all your money!"
				you can't change his behavior, you can only react to it
				Never follow mr markets emotions.
				"Mr. Market is youre servant, not youre guide." - Warren Buffett


		10. Stock Market Crash and Market Bubbles
			Fear and Greed Cycles - 
				If you're standing on a street and mob of ppl start running down the street screaming, your human instinct is not to ask why are they running, what are they running from. You're instinct it to just run the same direction as them. This is instinctual social fear.
				If you're going out for the night and you see a long line of people in front of a building called "Best Night Club on the Planet" your human instinct is to get in line. This is instinctual social greed.

				Instincts - any behavior that is performed WITHOUT any prior experience or KNOWLEDGE

				Mr. Market is an instinct based trader

				Greed cycle mindset - a quick buck can be made with little effort
				Fear cycle mindset - idk the value of these stocks and idk what im really doing and i don't want to loose my money

				The KNOWLEDGE of a stocks value allows an investor to determine if Mr. Market is being fearful or greedy
				
			Buffett's Opinion on Market Psycology - 
				"The key is to be greedy when others are fearful, and to be fearful when others are greedy." - Warren Buffett
				"In the short term a stock acts like a voting machine, and in the long term it acts like a weighing machine" -  Bengamin Gram (paraphrased)
					This means that a stock's market value converges to its intrinsic value in the long term. 


		11. What is the FED?
			What is the FED?
				US Federal Reserve
				

			What is the Mission of the FED?
				Bring stability to US economy

			How does the FED change market conditions with interest rates?
				The higher the interest rates (of various goods people want to buy) the less people are going to spend
				The lower the interest rates the more people are going to spend 
			What does the FED tell us about Mr. Market?
				When fed is raising interest rates,  its saying mr market is in a greed cycle
				When fed is lowering interest rates, its saying mr market is in a fear cycle
				
		So when interest rates are high, you want to buy bonds?
		When interest rates are low, you want to buy stocks.

			QUESTIONS:
				What is the fed raising interest rates of:
					federal bonds?
						if so, then how does that effect:
							the spending habits of people
							the stock market?



	COURSE 2


		12. What Is Financial Risk

			What causes Financial Risk in an investment?
				Debt:
					how/why does a company incur dept?
						because they want to speed up time, they can own assets now instead of later.
					why is that risky?
						if you're incurring debt faster than you can pay it off your company will spiral into banruptcy
						having a little bit of managable debt is fine, its the best actually, but having too much is risky

				Overpaying for the investment:
					if you over pay, when you want to sell it later its going to be hard, or even impossible to sell at a price equal or greater than what you bought.

				Not knowing what you're doing:
					if you don't know what you're doing you could invest in something with a lot of debt or over pay for it.


		13. What is Inflation?
			Why does the FED inflate the money?
				Protects aganst recessions and depressions
				indirect taxation

			Inflation is the decrease of value of a currency, by circulating more money in the system.

			Inflation heavily effects bonds.
				Ex.
				You buy a 1 year bond at $1000 w/ a 5% coupon rate
				the next year you have $1050
				but inflation went up 5% that year
				so $1000 last year = $1050 this year

			Stocks with low debt are generally unaffected by inflation
				Ex.
				You buy a $1000 dollars worth of a companies stock
				The cost of production of the company's product is $100 per product
				They sell their product for $200
				so they profit $100 from their product
				next year infaltion went up 5%
				so now it cost them 5% more to produce their product, but they sell it 5% higher also, and profit 5% more too
				cost of production = $105
				sell price = $210
				profit = $105
				and $100 last year = $105 this year
				so their net profits are uneffected
				so the earnings per share are uneffected
				
			InGENERAL: stocks are effected less by inflation than bonds
					
			QUESTIONS:
				so why is it that only stocks with low debt are uneffected by inflation?
					if a company has high debt is that accounted for with inflation? aka will their debt increase with inflation


		14. What is the S&P Rating
			how bonds are rated
			if you're buying stock, look at the rating of the bonds the company has issued

			AAA -  
			AA  - 
			A   - 
			BBB - 
			BB  - 
			B   - 

			these letters are meaningless though. The statistics behind what percentage of companies and municiple governments paid back their bonds and what percentage defaulted (on their loans, aka bonds).

			Use your OWN tolerance for risk, and only fuck with shit you understand.


		15. What is a Yield Curve?
			its a graph that plots bond interest vs bond term duration (ex. US federal bonds)

			its lets you know how the government is trying to steer the economy
			https://www.treasury.gov/resource-center/data-chart-center/interest-rates/Pages/Historic-Yield-Data-Visualization.aspx
				when its flat, aka high interest rates, you want to be buying bonds, and the gov is trying to slow economy	
					this means they expect interest rates to go down over a long period of time.
					i don't understand why, more research is required 


		16. How to use a bond calculator
			input your bond's principle, coupon rate, time to maturity, and the coupon rate someone can get now for the same type of bond, and the calculator will output what you could currently sell you're bond for.

			NOTE:
				buy bonds when interest rates are high, flat across the yield curve, to know that the fed thinks the market is in a bubble .. when the bubble bursts, the fed will decrease interest rates, you can sell your bonds for a lot of money, which you can then buy stocks really cheap for.


		17. Warren Buffett's 4 Rules for Investing.

			Rules Reordered:
				1. Stock must be managed by vigilent leaders (aka manage dept well)
				2. Long term prospect (aka the company will exist, and their product is still in demand 30 40 years from now)
				3. Stable and Understandable 
				4. Stock must be undervalued (lower than estimated intrinsic value)

				next four videos explains how he evaluates if a stock passes each of these 4 rules.


		18. Rule 1: Must Be managed by Vigilant Leaders:
			Vigilant leadership:
				Vigilant - carefully observant or attentive; on the look out for possible dangers

				Possible Dangers:
					Debt


			Debt/Equity Ratio:
				Warren Buffett wants to buy a company that has a debt to equity ratio of .5 or less

			Current Ratio:
				Current Assets are the Assets the company is likely to convert to cash in the next 12 months.
				Currenr Liabilities are the liablilities the company is likely going to pay in the next 12 months
				Current Ratio is the Current Assets / Current Liabilities
					Current ratio is a good prediction of how the companies equity is going to change over the next year.

				Warren Buffett wants to buy a company that has a current ratio of 1.5 or more


		19. Rule 2: Long Term Prospect

			this just means that the companies product/service will still have demand in the long term (20+ years from now)

			captial gains tax - percentage of profits made from buying and selling
			higher income tax bracet you are, the larger the percentage
			longer you hold the stock, the smaller the percentage


		20. Rule 3: Stable and Understandable 
			Why stability is important to determine intrinsic value:
				Equity 
				Earnings 
				Debt
					The more linear the change in these things are over the years the easier it is to predict over time. 

			Why its important to invest in a company you understand:
				If you don't understand why the business's product is valuable to people, you won't be able to determine its value if it changes it's product a bit, ... or something like that... not sure if i agree with this one. 


		21. Rule 4. Stock must be undervalued (lower than estimated intrinsic value)
			How to calculate the intrinic value of a stock:

			How to use the intrinsic value calculator:


		22. What is A Prefered Stock?
			works like a bond kind of
			variable dividend rate
			some companes dont have to pay dividends on time, or even at all!
			must read the Certificate of Designation
			they can also be bought back by the company at any time


		23.
		24.


		25. What is Income Investing?
			Income investing is the act of buying very stable stocks and bonds throughout your life and then when you retire you live off the dividends. 

			If you fucked up and invested in a company with a lot of debt, if a recession hits, those dividends will drop quite a bit. 
			
			To do it right, 1) don't invest in a company with a lot of debt, but 2) very important ...

				Always invest in a company that is going to increase your cash flow next month (or quarterly or whatever time period).

				Say you have $1000 to invest each month ... the next month you'll have $1000 + the dividends of last months investments ... so theres a compouding effect.

			Preston's Rule of Thumb (just a preference though, don't discount a company thats slightly different):
				Invest in companies that pay 1/3 of earnings to dividends,and 2/3 to book value (increase in equity that investors don't pay taxes on).


		26. What is a Cash Flow Statement?
		 	The cash flow statement basically shows every monetary transaction made by a company
			Its divided into 3 sections:
				Operating Activities:
					All cash inflow
						Ex.s: Net income, dividends of stocks owned of other companies, bonds sold, ect. 
				Investing Activities:
					Cash outflow for:
						investing in his own company:
							more supplies
							upgrading facilities
							ect.
						buying/selling stocks and bonds
				Financing Activities:
					Issuing more shares
					issuing bonds, aka taking out a loan
					paying off/taking on debt

			operating activities is the lifeblood of the company.
			you should be looking for a company that has a steady increasing positive number for operating activities and decreasing negative numbers for the other 2.
		Positive Financing activities means they're taking on debt.




	QUESTION:
		isn't financing activities cash INflow though?

	27.
	28.
	29.
	30.
	31.
	32.
	33.
	34.
	35.
	36.
	37.
	38.
	39.
	40.
	41.
	42.
	43.
	44.


	QUESTIONS:
		why does a stocks price equalize in the long term to its company's true value in society?

